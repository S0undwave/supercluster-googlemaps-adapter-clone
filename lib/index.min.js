!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SuperClusterAdapterLoader=t():e.SuperClusterAdapterLoader=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(e){i(e)}}function u(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}a((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SuperClusterAdapter=void 0;var u=r(4),a=r(2),l=r(1),p=s(r(5)),c=function(){function e(e){var t,r;this.pIdleListener=null,this.pointFeatures=[],this.pNonPointFeatures=[],this.pUseServerSideClusterer=!1,this.pMap=e.map,this.pRadius=e.radius,this.pMaxZoom=e.maxZoom,this.pMinZoom=e.minZoom,this.pStyles=e.styles,this.pImagePath=e.imagePath,this.pImageExtension=e.imageExtension,this.pZoomOnClick=e.zoomOnClick,this.pDataLayerDefault=null!==(r=null===(t=e.map)||void 0===t?void 0:t.data)&&void 0!==r?r:new google.maps.Data,this.pMarkers=[],this.pIndex=new p.default({minZoom:this.pMinZoom,maxZoom:this.pMaxZoom,radius:this.pRadius}),this.pCustomMarkerIcon=e.customMarkerIcon,this.pCustomClusterIcon=e.customClusterIcon,this.pUpdateMarkerOptions=e.updateMarkerOptions,this.pMarkerClick=e.markerClick,this.pFeatureClick=e.featureClick,this.pClusterClick=e.clusterClick,this.pFeatureStyle=e.featureStyle,this.pServerSideFeatureToSuperCluster=e.serverSideFeatureToSuperCluster,this.pOverlapMarkerSpiderfier=e.overlapMarkerSpiderfier,this.pUseServerSideClusterer=e.useServerSideClusterer,this.pGetClustersServerSide=e.getClustersServerSide,this.init()}return Object.defineProperty(e.prototype,"map",{get:function(){return this.pMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.pRadius},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxZoom",{get:function(){return this.pMaxZoom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minZoom",{get:function(){return this.pMinZoom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this.pStyles},set:function(e){this.pStyles=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imagePath",{get:function(){return this.pImagePath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imageExtension",{get:function(){return this.pImageExtension},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isZoomOnClick",{get:function(){return this.pZoomOnClick},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numFeatures",{get:function(){return this.features.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasFeatures",{get:function(){return this.numFeatures>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"features",{get:function(){return this.pointFeatures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useServerSideClusterer",{get:function(){return this.pUseServerSideClusterer},enumerable:!1,configurable:!0}),e.prototype.setVisible=function(e){this.setVisibleMarkersAndClusters(e),this.setVisibleDataLayerFeatures(e)},e.prototype.setVisibleMarkersAndClusters=function(e){e?(this.addEventListeners(),this.showMarkers()):(this.removeEventListeners(),this.hideMarkers())},e.prototype.setVisibleDataLayerFeatures=function(e){e?this.pDataLayerDefault.setMap(this.pMap):this.pDataLayerDefault.setMap(null)},e.prototype.getFeaturesBounds=function(){var e,t,r,n,o=new google.maps.LatLngBounds;try{for(var s=i(this.pNonPointFeatures),u=s.next();!u.done;u=s.next()){var l=u.value;o.union(a.ClustererHelper.featureBounds(l))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}try{for(var p=i(this.features),c=p.next();!c.done;c=p.next()){var h=c.value;o.extend({lat:h.geometry.coordinates[1],lng:h.geometry.coordinates[0]})}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}return o},e.prototype.destroy=function(){this.removeEventListeners(),this.removeFeaturesFromDataLayers(),this.removeMarkers(),this.pStyles=[],this.pNonPointFeatures=[],this.pointFeatures=[]},e.prototype.load=function(e){var t,r,n;(this.pointFeatures.length||this.pNonPointFeatures.length)&&console.error("There are loaded data in supercluster adapter already");var o={type:"FeatureCollection",features:[]};if(e&&"FeatureCollection"===e.type&&e.features&&e.features.length)try{for(var s=i(e.features),u=s.next();!u.done;u=s.next()){var a=u.value;"Feature"===a.type&&a.geometry&&("Point"===a.geometry.type?(a.id&&!(null===(n=a.properties)||void 0===n?void 0:n.id)&&(a.properties?a.properties.id=a.id:a.properties={id:a.id}),this.pointFeatures.push(a)):o.features.push(a))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}this.pIndex.load(this.pointFeatures),this.pNonPointFeatures=this.pDataLayerDefault.addGeoJson(o),this.getClusters(),this.addEventListeners()},e.prototype.drawServerSideCalculatedClusters=function(e){var t,r,n=[];if(e&&e.length)try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var u=s.value,a=this.pServerSideFeatureToSuperCluster(u);n.push(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}this.drawClusters(n)},Object.defineProperty(e,"Builder",{get:function(){return u.Builder},enumerable:!1,configurable:!0}),e.prototype.getClusters=function(){var e,t;return n(this,void 0,void 0,(function(){var r,n,i,s;return o(this,(function(o){switch(o.label){case 0:if(!this.map)return[2];if(r=null!==(e=this.map.getBounds())&&void 0!==e?e:new google.maps.LatLngBounds,n=null!==(t=this.map.getZoom())&&void 0!==t?t:0,r.isEmpty()||!n)return[3,6];if(i=[r.getSouthWest().lng(),r.getSouthWest().lat(),r.getNorthEast().lng(),r.getNorthEast().lat()],!this.useServerSideClusterer)return[3,5];s=void 0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.pGetClustersServerSide(i,n)];case 2:return s=o.sent(),[3,4];case 3:return o.sent(),s=[],[3,4];case 4:return this.drawServerSideCalculatedClusters(s),[3,6];case 5:s=this.pIndex.getClusters(i,n),this.drawClusters(s),o.label=6;case 6:return[2]}}))}))},e.prototype.init=function(){this.setupStyles(),this.pDataLayerDefault.addListener("click",this.pFeatureClick),this.pFeatureStyle&&this.pDataLayerDefault.setStyle(this.pFeatureStyle),this.useServerSideClusterer&&(this.getClusters(),this.addEventListeners())},e.prototype.setupStyles=function(){var e=this;this.pStyles.length||l.SIZES.forEach((function(t,r){e.pStyles.push({height:t,url:""+e.pImagePath+(r+1)+"."+e.pImageExtension,width:t})}))},e.prototype.addEventListeners=function(){var e=this;this.map&&(this.pIdleListener||(this.pIdleListener=google.maps.event.addListener(this.map,"idle",(function(){e.getClusters()}))))},e.prototype.removeEventListeners=function(){this.pIdleListener&&this.pIdleListener.remove()},e.prototype.drawClusters=function(e){var t,r,n=this,o=this.getClustersMap(this.pMarkers),s=this.getMarkersMap(this.pMarkers);this.pMarkers.length=0;try{for(var u=i(e),a=u.next();!a.done;a=u.next()){var l=a.value,p=this.findExistingMarkerInstance(l,o,s);if(p){var c=this.pUpdateMarkerOptions(l,p);null!==c&&p.setOptions(c)}else p=this.superclusterFeatureToGmapsMarker(l);this.pMarkers.push(p)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}window.setTimeout((function(){var e,t,r,u;try{for(var a=i(o.values()),l=a.next();!l.done;l=a.next()){l.value.setMap(null)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}try{for(var p=i(s.values()),c=p.next();!c.done;c=p.next()){var h=c.value;h.setMap(null),n.pOverlapMarkerSpiderfier&&n.pOverlapMarkerSpiderfier.forgetMarker(h)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(u=p.return)&&u.call(p)}finally{if(r)throw r.error}}}),150)},e.prototype.getClustersMap=function(e){var t,r,n=new Map;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var u=s.value;!0===u.get("cluster")&&n.set(u.get("cluster_id"),u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},e.prototype.getMarkersMap=function(e){var t,r,n=new Map;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var u=s.value;!0!==u.get("cluster")&&u.get("id")&&n.set(u.get("id"),u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},e.prototype.findExistingMarkerInstance=function(e,t,r){var n,o,i;return!0===e.properties.cluster?t.has(e.properties.cluster_id)&&(i=t.get(e.properties.cluster_id),t.delete(e.properties.cluster_id)):e.properties.id&&r.has(e.properties.id)&&(i=r.get(e.properties.id),r.delete(e.properties.id),(null===(n=null==i?void 0:i.getPosition())||void 0===n?void 0:n.lat())===e.geometry.coordinates[1]&&(null===(o=null==i?void 0:i.getPosition())||void 0===o?void 0:o.lng())===e.geometry.coordinates[0]||null==i||i.setPosition({lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]})),i},e.prototype.clearNonPointFeatures=function(){var e,t,r;try{for(var n=i(this.pNonPointFeatures),o=n.next();!o.done;o=n.next()){var s=o.value;(null===(r=this.pDataLayerDefault)||void 0===r?void 0:r.contains(s))&&this.pDataLayerDefault.remove(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.superclusterFeatureToGmapsMarker=function(e){var t=this.getMarkerOptions(e),r=new google.maps.Marker(t);return this.assignAdditionalProperties(r,e),this.assignEventsToMarker(r),r},e.prototype.getMarkerOptions=function(e){return!0===e.properties.cluster?this.getMarkerOptionsForCluster(e):this.getMarkerOptionsForPoint(e)},e.prototype.getMarkerOptionsForCluster=function(e){return{position:new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]),map:this.map,clickable:this.pZoomOnClick,icon:this.getClusterIcon(e),label:this.getClusterLabel(e),title:e.properties.point_count_abbreviated+" positions in the cluster",visible:!0}},e.prototype.getClusterIcon=function(e){var t,r,n,o=this.getClusterIconIndex(e),i=this.pCustomClusterIcon(e,o);if(null===i){var s=this.styles[o],u=null!==(t=null==s?void 0:s.width)&&void 0!==t?t:l.SIZES[0],a=null!==(r=null==s?void 0:s.height)&&void 0!==r?r:l.SIZES[0],p=(null===(n=null==s?void 0:s.anchor)||void 0===n?void 0:n.length)?s.anchor[0]:u/2,c=(null==s?void 0:s.anchor)&&(null==s?void 0:s.anchor.length)>1?s.anchor[1]:a/2;return{scaledSize:new google.maps.Size(u,a),anchor:new google.maps.Point(p,c),url:s.url}}return i},e.prototype.getClusterIconIndex=function(e){for(var t=0,r=e.properties.point_count;0!==r;)r=Math.floor(r/10),t++;return Math.min(t,this.pStyles.length-1)},e.prototype.getClusterLabel=function(e){var t,r,n,o,i=this.getClusterIconIndex(e),s=this.styles[i];return{color:null!==(t=null==s?void 0:s.textColor)&&void 0!==t?t:"black",fontFamily:null!==(r=null==s?void 0:s.fontFamily)&&void 0!==r?r:"Roboto",fontSize:(null!==(n=null==s?void 0:s.textSize)&&void 0!==n?n:14)+"px",fontWeight:null!==(o=null==s?void 0:s.fontWeight)&&void 0!==o?o:"normal",text:""+e.properties.point_count_abbreviated}},e.prototype.getMarkerOptionsForPoint=function(e){var t,r,n=this.pCustomMarkerIcon(e);return r="string"==typeof n?{scaledSize:new google.maps.Size(32,32),url:n}:n,{position:new google.maps.LatLng(e.geometry.coordinates[1],e.geometry.coordinates[0]),map:this.map,clickable:!0,icon:r,title:null!==(t=e.properties.name)&&void 0!==t?t:"",visible:!0}},e.prototype.assignAdditionalProperties=function(e,t){var r,n,o,i,s;!0===t.properties.cluster?(e.set("cluster",!0),e.set("cluster_id",null!==(r=t.properties.cluster_id)&&void 0!==r?r:a.ClustererHelper.getNewId()),e.set("clusterHashCode",null!==(n=t.properties.clusterHashCode)&&void 0!==n?n:"")):(e.set("id",null!==(s=null!==(i=null===(o=t.properties)||void 0===o?void 0:o.id)&&void 0!==i?i:t.id)&&void 0!==s?s:a.ClustererHelper.getNewId()),this.pOverlapMarkerSpiderfier&&this.pOverlapMarkerSpiderfier.trackMarker(e))},e.prototype.assignEventsToMarker=function(e){var t=this;if(e.getClickable()){var r=this.getClickEventName(e);google.maps.event.addListener(e,r,(function(r){if(!0===e.get("cluster")){r.stop();var n=r.latLng;if(!t.useServerSideClusterer&&t.features.length){var o=e.get("cluster_id"),i=t.pIndex.getClusterExpansionZoom(o);t.map.setOptions({center:n,zoom:i})}else if(t.useServerSideClusterer&&t.pClusterClick)t.pClusterClick(e,r,t.map,t);else{var s=a.ClustererHelper.getClusterBounds(t.map,e,t.radius);s.isEmpty()||t.map.fitBounds(s,5)}}else t.pMarkerClick(e,r)}))}},e.prototype.getClickEventName=function(e){var t="click";return!0!==e.get("cluster")&&this.pOverlapMarkerSpiderfier&&(t="spider_click"),t},e.prototype.removeFeaturesFromDataLayers=function(){this.clearNonPointFeatures()},e.prototype.hideMarkers=function(){var e,t;if(this.pMarkers&&this.pMarkers.length)try{for(var r=i(this.pMarkers),n=r.next();!n.done;n=r.next()){n.value.setMap(null)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.showMarkers=function(e){var t,r;void 0===e&&(e=void 0);var n=null!=e?e:this.pMarkers;if(n&&n.length)try{for(var o=i(n),s=o.next();!s.done;s=o.next()){s.value.setMap(this.map)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},e.prototype.removeMarkers=function(){this.hideMarkers(),this.pMarkers=[]},e}();t.SuperClusterAdapter=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIZES=t.ICON_URL_DEFAULT=t.MARKER_CLUSTER_IMAGE_EXTENSION=t.MARKER_CLUSTER_IMAGE_PATH_DEFAULT=t.MIN_CLUSTER_SIZE_DEFAULT=t.RADIUS_DEFAULT=t.MAX_ZOOM_DEFAULT=t.MIN_ZOOM_DEFAULT=t.CLASS_NAME_DEFAULT=void 0,t.CLASS_NAME_DEFAULT="cluster",t.MIN_ZOOM_DEFAULT=0,t.MAX_ZOOM_DEFAULT=19,t.RADIUS_DEFAULT=80,t.MIN_CLUSTER_SIZE_DEFAULT=2,t.MARKER_CLUSTER_IMAGE_PATH_DEFAULT="https://maps-tools-242a6.firebaseapp.com/clusterer/images/m",t.MARKER_CLUSTER_IMAGE_EXTENSION=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?"svg":"png",t.ICON_URL_DEFAULT="http://maps.google.com/mapfiles/kml/paddle/blu-blank.png",t.SIZES=[53,56,66,78,90]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClustererHelper=void 0;var n=new Map,o=new Map,i=new WeakMap,s=function(){function e(){}return e.featureCenter=function(t){if(!n.has(t.getId())){var r=t.getGeometry();"Point"===r.getType()?n.set(t.getId(),r.get()):n.set(t.getId(),e.featureBounds(t).getCenter())}var o=n.get(t.getId());return o||e.featureBounds(t).getCenter()},e.featureBounds=function(e){if(!o.has(e.getId())){var t=e.getGeometry(),r=new google.maps.LatLngBounds;t.forEachLatLng((function(e){r.extend(e)})),o.set(e.getId(),r)}var n=o.get(e.getId());return n||new google.maps.LatLngBounds},e.isFeatureInBounds=function(t,r){if(r){var n=t.getGeometry();return"Point"===n.getType()?r.contains(n.get()):r.contains(e.featureCenter(t))}return!1},e.getClusterer=function(e){if(i.has(e))return i.get(e)},e.setClusterer=function(e,t){if(i.has(e)){var r=i.get(e);r&&r.destroy(),i.delete(e)}i.set(e,t)},e.getClusterBounds=function(t,r,n){var o=new google.maps.LatLngBounds;if(t&&r&&n){var i=r.getPosition();if(i){var s=e.fromLatLngToPixel(i,t);if(s){var u=new google.maps.Point(s.x-n,s.y-n),a=new google.maps.Point(s.x+n,s.y+n),l=e.fromPixelToLatLng(u,t),p=e.fromPixelToLatLng(a,t);l&&o.extend(l),p&&o.extend(p)}}}return o},e.getNewId=function(){return++e.newId},e.fromLatLngToPixel=function(e,t){var r,n,o,i,s,u,a=Math.pow(2,t.getZoom()),l=t.getProjection(),p=t.getBounds(),c=null==l?void 0:l.fromLatLngToPoint(new google.maps.LatLng(null!==(r=null==p?void 0:p.getNorthEast().lat())&&void 0!==r?r:0,null!==(n=null==p?void 0:p.getSouthWest().lng())&&void 0!==n?n:0)),h=null==l?void 0:l.fromLatLngToPoint(e);return new google.maps.Point(Math.floor(((null!==(o=null==h?void 0:h.x)&&void 0!==o?o:0)-(null!==(i=null==c?void 0:c.x)&&void 0!==i?i:0))*a),Math.floor(((null!==(s=null==h?void 0:h.y)&&void 0!==s?s:0)-(null!==(u=null==c?void 0:c.y)&&void 0!==u?u:0))*a))},e.fromPixelToLatLng=function(e,t){var r,n,o,i,s=Math.pow(2,t.getZoom()),u=t.getProjection(),a=t.getBounds(),l=null==u?void 0:u.fromLatLngToPoint(new google.maps.LatLng(null!==(r=null==a?void 0:a.getNorthEast().lat())&&void 0!==r?r:0,null!==(n=null==a?void 0:a.getSouthWest().lng())&&void 0!==n?n:0)),p=new google.maps.Point(e.x/s+(null!==(o=null==l?void 0:l.x)&&void 0!==o?o:0),e.y/s+(null!==(i=null==l?void 0:l.y)&&void 0!==i?i:0));return null==u?void 0:u.fromPointToLatLng(p)},e.newId=1,e}();t.ClustererHelper=s},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(e){i(e)}}function u(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}a((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SuperClusterAdapterLoader=void 0;var a=function(){function e(){}return e.getClusterer=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return google&&google.maps?[4,Promise.resolve().then((function(){return i(r(0))}))]:[3,2];case 1:return[2,e.sent().SuperClusterAdapter];case 2:return console.error("Google Maps JavaScript API v3 is not loaded. Cannot initialize SuperClusterAdapter."),[2,void 0]}}))}))},e}();t.SuperClusterAdapterLoader=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(e){i(e)}}function u(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}a((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;var i=r(0),s=r(1),u=r(2),a=function(){function e(e){var t=this;this.pRadius=s.RADIUS_DEFAULT,this.pMaxZoom=s.MAX_ZOOM_DEFAULT,this.pMinZoom=s.MIN_ZOOM_DEFAULT,this.pStyles=[],this.pImagePath=s.MARKER_CLUSTER_IMAGE_PATH_DEFAULT,this.pImageExtension=s.MARKER_CLUSTER_IMAGE_EXTENSION,this.pZoomOnClick=!0,this.pOverlapMarkerSpiderfier=null,this.pUseServerSideClusterer=!1,this.pMap=e,this.pCustomMarkerIcon=function(e){return e.properties.iconUrl?e.properties.iconUrl:s.ICON_URL_DEFAULT},this.pCustomClusterIcon=function(e,t){return null},this.pUpdateMarkerOptions=function(e,t){return null},this.pMarkerClick=function(e,t){},this.pFeatureClick=function(e){},this.pClusterClick=void 0,this.pFeatureStyle=function(e){return Object.create(null)},this.pServerSideFeatureToSuperCluster=function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{}}},this.pGetClustersServerSide=function(e,r,i){return n(t,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))}}return e.prototype.withRadius=function(e){return this.pRadius=e,this},e.prototype.withMaxZoom=function(e){return this.pMaxZoom=e,this},e.prototype.withMinZoom=function(e){return this.pMinZoom=e,this},e.prototype.withStyles=function(e){return this.pStyles=e,this},e.prototype.withImagePath=function(e){return this.pImagePath=e,this},e.prototype.withImageExtension=function(e){return this.pImageExtension=e,this},e.prototype.withZoomOnClick=function(e){return this.pZoomOnClick=e,this},e.prototype.withCustomMarkerIcon=function(e){return this.pCustomMarkerIcon=e,this},e.prototype.withCustomClusterIcon=function(e){return this.pCustomClusterIcon=e,this},e.prototype.withUpdateMarkerOptions=function(e){return this.pUpdateMarkerOptions=e,this},e.prototype.withMarkerClick=function(e){return this.pMarkerClick=e,this},e.prototype.withFeatureClick=function(e){return this.pFeatureClick=e,this},e.prototype.withClusterClick=function(e){return this.pClusterClick=e,this},e.prototype.withFeatureStyle=function(e){return this.pFeatureStyle=e,this},e.prototype.withServerSideFeatureToSuperCluster=function(e){return this.pServerSideFeatureToSuperCluster=e,this},e.prototype.withOverlapMarkerSpiderfier=function(e){return this.pOverlapMarkerSpiderfier=e,this},e.prototype.withGetClustersServerSide=function(e){return this.pUseServerSideClusterer=!0,this.pGetClustersServerSide=e,this},e.prototype.build=function(){var e=new i.SuperClusterAdapter(this);return u.ClustererHelper.setClusterer(this.pMap,e),e},Object.defineProperty(e.prototype,"map",{get:function(){return this.pMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){var e;return null!==(e=this.pRadius)&&void 0!==e?e:s.RADIUS_DEFAULT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxZoom",{get:function(){var e;return null!==(e=this.pMaxZoom)&&void 0!==e?e:s.MAX_ZOOM_DEFAULT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minZoom",{get:function(){var e;return null!==(e=this.pMinZoom)&&void 0!==e?e:s.MIN_ZOOM_DEFAULT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var e;return null!==(e=this.pStyles)&&void 0!==e?e:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imagePath",{get:function(){var e;return null!==(e=this.pImagePath)&&void 0!==e?e:s.MARKER_CLUSTER_IMAGE_PATH_DEFAULT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imageExtension",{get:function(){var e;return null!==(e=this.pImageExtension)&&void 0!==e?e:s.MARKER_CLUSTER_IMAGE_EXTENSION},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zoomOnClick",{get:function(){var e;return null===(e=this.pZoomOnClick)||void 0===e||e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customMarkerIcon",{get:function(){return this.pCustomMarkerIcon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customClusterIcon",{get:function(){return this.pCustomClusterIcon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateMarkerOptions",{get:function(){return this.pUpdateMarkerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerClick",{get:function(){return this.pMarkerClick},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"featureClick",{get:function(){return this.pFeatureClick},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clusterClick",{get:function(){return this.pClusterClick},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"featureStyle",{get:function(){return this.pFeatureStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverSideFeatureToSuperCluster",{get:function(){return this.pServerSideFeatureToSuperCluster},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlapMarkerSpiderfier",{get:function(){return this.pOverlapMarkerSpiderfier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useServerSideClusterer",{get:function(){return this.pUseServerSideClusterer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getClustersServerSide",{get:function(){return this.pGetClustersServerSide},enumerable:!1,configurable:!0}),e}();t.Builder=a},function(e,t,r){"use strict";function n(e,t,r,i,s,u){if(s-i<=r)return;const a=i+s>>1;!function e(t,r,n,i,s,u){for(;s>i;){if(s-i>600){const o=s-i+1,a=n-i+1,l=Math.log(o),p=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*p*(o-p)/o)*(a-o/2<0?-1:1),h=Math.max(i,Math.floor(n-a*p/o+c)),f=Math.min(s,Math.floor(n+(o-a)*p/o+c));e(t,r,n,h,f,u)}const a=r[2*n+u];let l=i,p=s;for(o(t,r,i,n),r[2*s+u]>a&&o(t,r,i,s);l<p;){for(o(t,r,l,p),l++,p--;r[2*l+u]<a;)l++;for(;r[2*p+u]>a;)p--}r[2*i+u]===a?o(t,r,i,p):(p++,o(t,r,p,s)),p<=n&&(i=p+1),n<=p&&(s=p-1)}}(e,t,a,i,s,u%2),n(e,t,r,i,a-1,u+1),n(e,t,r,a+1,s,u+1)}function o(e,t,r,n){i(e,r,n),i(t,2*r,2*n),i(t,2*r+1,2*n+1)}function i(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function s(e,t,r,n){const o=e-r,i=t-n;return o*o+i*i}r.r(t),r.d(t,"default",(function(){return f}));const u=e=>e[0],a=e=>e[1];class l{constructor(e,t=u,r=a,o=64,i=Float64Array){this.nodeSize=o,this.points=e;const s=e.length<65536?Uint16Array:Uint32Array,l=this.ids=new s(e.length),p=this.coords=new i(2*e.length);for(let n=0;n<e.length;n++)l[n]=n,p[2*n]=t(e[n]),p[2*n+1]=r(e[n]);n(l,p,o,0,l.length-1,0)}range(e,t,r,n){return function(e,t,r,n,o,i,s){const u=[0,e.length-1,0],a=[];let l,p;for(;u.length;){const c=u.pop(),h=u.pop(),f=u.pop();if(h-f<=s){for(let s=f;s<=h;s++)l=t[2*s],p=t[2*s+1],l>=r&&l<=o&&p>=n&&p<=i&&a.push(e[s]);continue}const d=Math.floor((f+h)/2);l=t[2*d],p=t[2*d+1],l>=r&&l<=o&&p>=n&&p<=i&&a.push(e[d]);const g=(c+1)%2;(0===c?r<=l:n<=p)&&(u.push(f),u.push(d-1),u.push(g)),(0===c?o>=l:i>=p)&&(u.push(d+1),u.push(h),u.push(g))}return a}(this.ids,this.coords,e,t,r,n,this.nodeSize)}within(e,t,r){return function(e,t,r,n,o,i){const u=[0,e.length-1,0],a=[],l=o*o;for(;u.length;){const p=u.pop(),c=u.pop(),h=u.pop();if(c-h<=i){for(let o=h;o<=c;o++)s(t[2*o],t[2*o+1],r,n)<=l&&a.push(e[o]);continue}const f=Math.floor((h+c)/2),d=t[2*f],g=t[2*f+1];s(d,g,r,n)<=l&&a.push(e[f]);const y=(p+1)%2;(0===p?r-o<=d:n-o<=g)&&(u.push(h),u.push(f-1),u.push(y)),(0===p?r+o>=d:n+o>=g)&&(u.push(f+1),u.push(c),u.push(y))}return a}(this.ids,this.coords,e,t,r,this.nodeSize)}}const p={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},c=Math.fround||(h=new Float32Array(1),e=>(h[0]=+e,h[0]));var h;class f{constructor(e){this.options=S(Object.create(p),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:r,maxZoom:n,nodeSize:o}=this.options;t&&console.time("total time");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;let s=[];for(let t=0;t<e.length;t++)e[t].geometry&&s.push(g(e[t],t));this.trees[n+1]=new l(s,C,_,o,Float32Array),t&&console.timeEnd(i);for(let e=n;e>=r;e--){const r=+Date.now();s=this._cluster(s,e),this.trees[e]=new l(s,C,_,o,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,s.length,+Date.now()-r)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let o=180===e[2]?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const e=this.getClusters([r,n,180,i],t),s=this.getClusters([-180,n,o,i],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],u=s.range(v(r),b(i),v(o),b(n)),a=[];for(const e of u){const t=s.points[e];a.push(t.numPoints?y(t):this.points[t.index])}return a}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const i=o.points[t];if(!i)throw new Error(n);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o.within(i.x,i.y,s),a=[];for(const t of u){const r=o.points[t];r.parentId===e&&a.push(r.numPoints?y(r):this.points[r.index])}if(0===a.length)throw new Error(n);return a}getLeaves(e,t,r){t=t||10,r=r||0;const n=[];return this._appendLeaves(n,e,t,r,0),n}getTile(e,t,r){const n=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:i,radius:s}=this.options,u=s/i,a=(r-u)/o,l=(r+1+u)/o,p={features:[]};return this._addTileFeatures(n.range((t-u)/o,a,(t+1+u)/o,l),n.points,t,r,o,p),0===t&&this._addTileFeatures(n.range(1-u/o,a,1,l),n.points,o,r,o,p),t===o-1&&this._addTileFeatures(n.range(0,a,u/o,l),n.points,-1,r,o,p),p.features.length?p:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,o){const i=this.getChildren(t);for(const t of i){const i=t.properties;if(i&&i.cluster?o+i.point_count<=n?o+=i.point_count:o=this._appendLeaves(e,i.cluster_id,r,n,o):o<n?o++:e.push(t),e.length===r)break}return o}_addTileFeatures(e,t,r,n,o,i){for(const s of e){const e=t[s],u=e.numPoints;let a,l,p;if(u)a=m(e),l=e.x,p=e.y;else{const t=this.points[e.index];a=t.properties,l=v(t.geometry.coordinates[0]),p=b(t.geometry.coordinates[1])}const c={type:1,geometry:[[Math.round(this.options.extent*(l*o-r)),Math.round(this.options.extent*(p*o-n))]],tags:a};let h;u?h=e.id:this.options.generateId?h=e.index:this.points[e.index].id&&(h=this.points[e.index].id),void 0!==h&&(c.id=h),i.features.push(c)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:n,extent:o,reduce:i,minPoints:s}=this.options,u=n/(o*Math.pow(2,t));for(let n=0;n<e.length;n++){const o=e[n];if(o.zoom<=t)continue;o.zoom=t;const a=this.trees[t+1],l=a.within(o.x,o.y,u),p=o.numPoints||1;let c=p;for(const e of l){const r=a.points[e];r.zoom>t&&(c+=r.numPoints||1)}if(c>p&&c>=s){let e=o.x*p,s=o.y*p,u=i&&p>1?this._map(o,!0):null;const h=(n<<5)+(t+1)+this.points.length;for(const r of l){const n=a.points[r];if(n.zoom<=t)continue;n.zoom=t;const l=n.numPoints||1;e+=n.x*l,s+=n.y*l,n.parentId=h,i&&(u||(u=this._map(o,!0)),i(u,this._map(n)))}o.parentId=h,r.push(d(e/c,s/c,h,c,u))}else if(r.push(o),c>1)for(const e of l){const n=a.points[e];n.zoom<=t||(n.zoom=t,r.push(n))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?S({},e.properties):e.properties;const r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?S({},n):n}}function d(e,t,r,n,o){return{x:c(e),y:c(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function g(e,t){const[r,n]=e.geometry.coordinates;return{x:c(v(r)),y:c(b(n)),zoom:1/0,index:t,parentId:-1}}function y(e){return{type:"Feature",id:e.id,properties:m(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),M(e.y)]}};var t}function m(e){const t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return S(S({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function v(e){return e/360+.5}function b(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function M(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function S(e,t){for(const r in t)e[r]=t[r];return e}function C(e){return e.x}function _(e){return e.y}}]).SuperClusterAdapterLoader}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdXBlckNsdXN0ZXJBZGFwdGVyTG9hZGVyL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdXBlckNsdXN0ZXJBZGFwdGVyTG9hZGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9zcmMvY2x1c3RlcmVyLnRzIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9zcmMvaGVscGVyLnRzIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vU3VwZXJDbHVzdGVyQWRhcHRlckxvYWRlci8uL3NyYy9idWlsZGVyLnRzIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9ub2RlX21vZHVsZXMva2RidXNoL3NyYy9zb3J0LmpzIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9ub2RlX21vZHVsZXMva2RidXNoL3NyYy93aXRoaW4uanMiLCJ3ZWJwYWNrOi8vU3VwZXJDbHVzdGVyQWRhcHRlckxvYWRlci8uL25vZGVfbW9kdWxlcy9rZGJ1c2gvc3JjL2luZGV4LmpzIiwid2VicGFjazovL1N1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIvLi9ub2RlX21vZHVsZXMva2RidXNoL3NyYy9yYW5nZS5qcyIsIndlYnBhY2s6Ly9TdXBlckNsdXN0ZXJBZGFwdGVyTG9hZGVyLy4vbm9kZV9tb2R1bGVzL3N1cGVyY2x1c3Rlci9pbmRleC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYnVpbGRlcl8xIiwicmVxdWlyZSIsImhlbHBlcl8xIiwiY29uc3RhbnRzXzEiLCJzdXBlcmNsdXN0ZXJfMSIsIl9faW1wb3J0RGVmYXVsdCIsIlN1cGVyQ2x1c3RlckFkYXB0ZXIiLCJidWlsZCIsInBJZGxlTGlzdGVuZXIiLCJwb2ludEZlYXR1cmVzIiwicE5vblBvaW50RmVhdHVyZXMiLCJwVXNlU2VydmVyU2lkZUNsdXN0ZXJlciIsInRoaXMiLCJwTWFwIiwibWFwIiwicFJhZGl1cyIsInJhZGl1cyIsInBNYXhab29tIiwibWF4Wm9vbSIsInBNaW5ab29tIiwibWluWm9vbSIsInBTdHlsZXMiLCJzdHlsZXMiLCJwSW1hZ2VQYXRoIiwiaW1hZ2VQYXRoIiwicEltYWdlRXh0ZW5zaW9uIiwiaW1hZ2VFeHRlbnNpb24iLCJwWm9vbU9uQ2xpY2siLCJ6b29tT25DbGljayIsInBEYXRhTGF5ZXJEZWZhdWx0IiwiX2IiLCJfYSIsImRhdGEiLCJnb29nbGUiLCJtYXBzIiwiRGF0YSIsInBNYXJrZXJzIiwicEluZGV4IiwiZGVmYXVsdCIsInBDdXN0b21NYXJrZXJJY29uIiwiY3VzdG9tTWFya2VySWNvbiIsInBDdXN0b21DbHVzdGVySWNvbiIsImN1c3RvbUNsdXN0ZXJJY29uIiwicFVwZGF0ZU1hcmtlck9wdGlvbnMiLCJ1cGRhdGVNYXJrZXJPcHRpb25zIiwicE1hcmtlckNsaWNrIiwibWFya2VyQ2xpY2siLCJwRmVhdHVyZUNsaWNrIiwiZmVhdHVyZUNsaWNrIiwicENsdXN0ZXJDbGljayIsImNsdXN0ZXJDbGljayIsInBGZWF0dXJlU3R5bGUiLCJmZWF0dXJlU3R5bGUiLCJwU2VydmVyU2lkZUZlYXR1cmVUb1N1cGVyQ2x1c3RlciIsInNlcnZlclNpZGVGZWF0dXJlVG9TdXBlckNsdXN0ZXIiLCJwT3ZlcmxhcE1hcmtlclNwaWRlcmZpZXIiLCJvdmVybGFwTWFya2VyU3BpZGVyZmllciIsInVzZVNlcnZlclNpZGVDbHVzdGVyZXIiLCJwR2V0Q2x1c3RlcnNTZXJ2ZXJTaWRlIiwiZ2V0Q2x1c3RlcnNTZXJ2ZXJTaWRlIiwiaW5pdCIsImZlYXR1cmVzIiwibGVuZ3RoIiwibnVtRmVhdHVyZXMiLCJzZXRWaXNpYmxlIiwidiIsInNldFZpc2libGVNYXJrZXJzQW5kQ2x1c3RlcnMiLCJzZXRWaXNpYmxlRGF0YUxheWVyRmVhdHVyZXMiLCJhZGRFdmVudExpc3RlbmVycyIsInNob3dNYXJrZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoaWRlTWFya2VycyIsInNldE1hcCIsImdldEZlYXR1cmVzQm91bmRzIiwiZmVhdHVyZXNCb3VuZHMiLCJMYXRMbmdCb3VuZHMiLCJfYyIsIl9fdmFsdWVzIiwiX2QiLCJuZXh0IiwiZG9uZSIsIm5vblBvaW50RmVhdHVyZSIsInVuaW9uIiwiQ2x1c3RlcmVySGVscGVyIiwiZmVhdHVyZUJvdW5kcyIsIl9lIiwiX2YiLCJwb2ludEZlYXR1cmUiLCJleHRlbmQiLCJsYXQiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwibG5nIiwiZGVzdHJveSIsInJlbW92ZUZlYXR1cmVzRnJvbURhdGFMYXllcnMiLCJyZW1vdmVNYXJrZXJzIiwibG9hZCIsImdlb0pzb24iLCJjb25zb2xlIiwiZXJyb3IiLCJvdGhlckZlYXR1cmVzQ29sbGVjdGlvbiIsInR5cGUiLCJmZWF0dXJlIiwiaWQiLCJwcm9wZXJ0aWVzIiwicHVzaCIsImFkZEdlb0pzb24iLCJnZXRDbHVzdGVycyIsImRyYXdTZXJ2ZXJTaWRlQ2FsY3VsYXRlZENsdXN0ZXJzIiwic2NmZWF0dXJlcyIsImZlYXR1cmVzXzEiLCJmZWF0dXJlc18xXzEiLCJzY2ZlYXR1cmUiLCJkcmF3Q2x1c3RlcnMiLCJCdWlsZGVyIiwibWFwQm91bmRzIiwiZ2V0Qm91bmRzIiwiem9vbSIsImdldFpvb20iLCJpc0VtcHR5IiwiYmJveCIsImdldFNvdXRoV2VzdCIsImdldE5vcnRoRWFzdCIsImNsdXN0ZXJzIiwic2VudCIsInNldHVwU3R5bGVzIiwiYWRkTGlzdGVuZXIiLCJzZXRTdHlsZSIsIl90aGlzIiwiU0laRVMiLCJmb3JFYWNoIiwic2l6ZSIsImhlaWdodCIsInVybCIsIndpZHRoIiwiZXZlbnQiLCJyZW1vdmUiLCJtYXBDbHVzdGVycyIsImdldENsdXN0ZXJzTWFwIiwibWFwTWFya2VycyIsImdldE1hcmtlcnNNYXAiLCJjbHVzdGVyc18xIiwiY2x1c3RlcnNfMV8xIiwibWFya2VyIiwiZmluZEV4aXN0aW5nTWFya2VySW5zdGFuY2UiLCJvcHRpb25zIiwic2V0T3B0aW9ucyIsInN1cGVyY2x1c3RlckZlYXR1cmVUb0dtYXBzTWFya2VyIiwic2V0VGltZW91dCIsInZhbHVlcyIsIm9NYXJrZXIiLCJmb3JnZXRNYXJrZXIiLCJjb2xsZWN0aW9uIiwicmVzIiwiTWFwIiwiY29sbGVjdGlvbl8xIiwiY29sbGVjdGlvbl8xXzEiLCJzZXQiLCJjb2xsZWN0aW9uXzIiLCJjb2xsZWN0aW9uXzJfMSIsImV4aXN0aW5nQ2x1c3RlcnMiLCJleGlzdGluZ01hcmtlcnMiLCJjbHVzdGVyIiwiaGFzIiwiY2x1c3Rlcl9pZCIsImRlbGV0ZSIsImdldFBvc2l0aW9uIiwic2V0UG9zaXRpb24iLCJjbGVhck5vblBvaW50RmVhdHVyZXMiLCJjb250YWlucyIsImdldE1hcmtlck9wdGlvbnMiLCJNYXJrZXIiLCJhc3NpZ25BZGRpdGlvbmFsUHJvcGVydGllcyIsImFzc2lnbkV2ZW50c1RvTWFya2VyIiwiZ2V0TWFya2VyT3B0aW9uc0ZvckNsdXN0ZXIiLCJnZXRNYXJrZXJPcHRpb25zRm9yUG9pbnQiLCJwb3NpdGlvbiIsIkxhdExuZyIsImNsaWNrYWJsZSIsImljb24iLCJnZXRDbHVzdGVySWNvbiIsImxhYmVsIiwiZ2V0Q2x1c3RlckxhYmVsIiwidGl0bGUiLCJwb2ludF9jb3VudF9hYmJyZXZpYXRlZCIsInZpc2libGUiLCJpbmRleCIsImdldENsdXN0ZXJJY29uSW5kZXgiLCJjdXN0b21JY29uIiwic3R5bGUiLCJhbmNob3JYIiwiYW5jaG9yIiwiYW5jaG9yWSIsInNjYWxlZFNpemUiLCJTaXplIiwiUG9pbnQiLCJkdiIsInBvaW50X2NvdW50IiwiTWF0aCIsImZsb29yIiwibWluIiwiY29sb3IiLCJ0ZXh0Q29sb3IiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJ0ZXh0U2l6ZSIsImZvbnRXZWlnaHQiLCJ0ZXh0IiwibUljb24iLCJjdXN0b21NYXJrZXJPYmplY3QiLCJnZXROZXdJZCIsImNsdXN0ZXJIYXNoQ29kZSIsInRyYWNrTWFya2VyIiwiZ2V0Q2xpY2thYmxlIiwiZXZlbnROYW1lIiwiZ2V0Q2xpY2tFdmVudE5hbWUiLCJzdG9wIiwiZXZQb3MiLCJsYXRMbmciLCJjbHVzdGVySWQiLCJnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbSIsImNlbnRlciIsImJvdW5kcyIsImdldENsdXN0ZXJCb3VuZHMiLCJmaXRCb3VuZHMiLCJtYXJrZXJzIiwidW5kZWZpbmVkIiwibWFya2VyQ29sbGVjdGlvbiIsIm1hcmtlckNvbGxlY3Rpb25fMSIsIm1hcmtlckNvbGxlY3Rpb25fMV8xIiwiQ0xBU1NfTkFNRV9ERUZBVUxUIiwiTUlOX1pPT01fREVGQVVMVCIsIk1BWF9aT09NX0RFRkFVTFQiLCJSQURJVVNfREVGQVVMVCIsIk1JTl9DTFVTVEVSX1NJWkVfREVGQVVMVCIsIk1BUktFUl9DTFVTVEVSX0lNQUdFX1BBVEhfREVGQVVMVCIsIk1BUktFUl9DTFVTVEVSX0lNQUdFX0VYVEVOU0lPTiIsImRvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJoYXNGZWF0dXJlIiwiSUNPTl9VUkxfREVGQVVMVCIsImhhc2hGZWF0dXJlQ2VudGVycyIsImhhc2hGZWF0dXJlc0JvdW5kcyIsImluc3RhbmNlcyIsIldlYWtNYXAiLCJmZWF0dXJlQ2VudGVyIiwiZ2V0SWQiLCJnZW9tIiwiZ2V0R2VvbWV0cnkiLCJnZXRUeXBlIiwiZ2V0Q2VudGVyIiwiZ2VvbUJvdW5kc18xIiwiZm9yRWFjaExhdExuZyIsImlzRmVhdHVyZUluQm91bmRzIiwiZ2V0Q2x1c3RlcmVyIiwic2V0Q2x1c3RlcmVyIiwiY2x1c3RlcmVyIiwicHJldkluc3RhbmNlIiwicG9pbnQiLCJmcm9tTGF0TG5nVG9QaXhlbCIsInN3UG9pbnQiLCJ4IiwieSIsIm5lUG9pbnQiLCJzdyIsImZyb21QaXhlbFRvTGF0TG5nIiwibmUiLCJuZXdJZCIsInNjYWxlIiwicG93IiwicHJvamVjdGlvbiIsImdldFByb2plY3Rpb24iLCJudyIsImZyb21MYXRMbmdUb1BvaW50IiwicGl4ZWwiLCJmcm9tUG9pbnRUb0xhdExuZyIsIlN1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJfX2ltcG9ydFN0YXIiLCJjbHVzdGVyZXJfMSIsImljb25VcmwiLCJjbHVzdGVyRmVhdHVyZSIsImNsdXN0ZXJJbmRleCIsImNsdXN0ZXJUb1pvb20iLCJfX2F3YWl0ZXIiLCJ3aXRoUmFkaXVzIiwid2l0aE1heFpvb20iLCJ3aXRoTWluWm9vbSIsIndpdGhTdHlsZXMiLCJ3aXRoSW1hZ2VQYXRoIiwid2l0aEltYWdlRXh0ZW5zaW9uIiwid2l0aFpvb21PbkNsaWNrIiwid2l0aEN1c3RvbU1hcmtlckljb24iLCJ3aXRoQ3VzdG9tQ2x1c3Rlckljb24iLCJ3aXRoVXBkYXRlTWFya2VyT3B0aW9ucyIsIndpdGhNYXJrZXJDbGljayIsIndpdGhGZWF0dXJlQ2xpY2siLCJ3aXRoQ2x1c3RlckNsaWNrIiwid2l0aEZlYXR1cmVTdHlsZSIsIndpdGhTZXJ2ZXJTaWRlRmVhdHVyZVRvU3VwZXJDbHVzdGVyIiwidHJhbnNmb3JtIiwid2l0aE92ZXJsYXBNYXJrZXJTcGlkZXJmaWVyIiwib21zIiwid2l0aEdldENsdXN0ZXJzU2VydmVyU2lkZSIsInNvcnRLRCIsImlkcyIsImNvb3JkcyIsIm5vZGVTaXplIiwibGVmdCIsInJpZ2h0IiwiZGVwdGgiLCJrIiwiaW5jIiwieiIsImxvZyIsImV4cCIsInNkIiwic3FydCIsIm5ld0xlZnQiLCJtYXgiLCJuZXdSaWdodCIsImoiLCJzd2FwSXRlbSIsInN3YXAiLCJhcnIiLCJ0bXAiLCJzcURpc3QiLCJheCIsImF5IiwiYngiLCJieSIsImR4IiwiZHkiLCJkZWZhdWx0R2V0WCIsImRlZmF1bHRHZXRZIiwicG9pbnRzIiwiZ2V0WCIsImdldFkiLCJBcnJheVR5cGUiLCJGbG9hdDY0QXJyYXkiLCJJbmRleEFycmF5VHlwZSIsIlVpbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwic3RhY2siLCJyZXN1bHQiLCJheGlzIiwicG9wIiwibmV4dEF4aXMiLCJyYW5nZSIsInF4IiwicXkiLCJyMiIsIndpdGhpbiIsImRlZmF1bHRPcHRpb25zIiwibWluUG9pbnRzIiwiZXh0ZW50IiwiZ2VuZXJhdGVJZCIsInJlZHVjZSIsInByb3BzIiwiZnJvdW5kIiwiRmxvYXQzMkFycmF5IiwidHJlZXMiLCJBcnJheSIsInRpbWUiLCJ0aW1lcklkIiwiY3JlYXRlUG9pbnRDbHVzdGVyIiwidGltZUVuZCIsIm5vdyIsIkRhdGUiLCJfY2x1c3RlciIsIm1pbkxuZyIsIm1pbkxhdCIsIm1heExuZyIsIm1heExhdCIsImVhc3Rlcm5IZW0iLCJ3ZXN0ZXJuSGVtIiwiY29uY2F0IiwidHJlZSIsIl9saW1pdFpvb20iLCJsbmdYIiwibGF0WSIsIm51bVBvaW50cyIsImdldENsdXN0ZXJKU09OIiwib3JpZ2luSWQiLCJfZ2V0T3JpZ2luSWQiLCJvcmlnaW5ab29tIiwiX2dldE9yaWdpblpvb20iLCJlcnJvck1zZyIsIkVycm9yIiwib3JpZ2luIiwiY2hpbGRyZW4iLCJwYXJlbnRJZCIsImxpbWl0Iiwib2Zmc2V0IiwibGVhdmVzIiwiX2FwcGVuZExlYXZlcyIsInoyIiwidG9wIiwiYm90dG9tIiwidGlsZSIsIl9hZGRUaWxlRmVhdHVyZXMiLCJleHBhbnNpb25ab29tIiwiZ2V0Q2hpbGRyZW4iLCJza2lwcGVkIiwiY2hpbGQiLCJpc0NsdXN0ZXIiLCJ0YWdzIiwicHgiLCJweSIsImdldENsdXN0ZXJQcm9wZXJ0aWVzIiwiZiIsInJvdW5kIiwibmVpZ2hib3JJZHMiLCJudW1Qb2ludHNPcmlnaW4iLCJuZWlnaGJvcklkIiwiYiIsInd4Iiwid3kiLCJjbHVzdGVyUHJvcGVydGllcyIsIl9tYXAiLCJudW1Qb2ludHMyIiwiY3JlYXRlQ2x1c3RlciIsImNsb25lIiwib3JpZ2luYWwiLCJJbmZpbml0eSIsInlMYXQiLCJjb3VudCIsImFiYnJldiIsInNpbiIsIlBJIiwieTIiLCJhdGFuIiwiZGVzdCIsInNyYyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFtQywwQkFBSUQsSUFFdkNELEVBQWdDLDBCQUFJQyxJQVJ0QyxDQVNHSyxRQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTTSxHQUcvREwsRUFBT1EsR0FBSSxFQUdKUixFQUFPRCxRQTBEZixPQXJEQU0sRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJ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Q29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTdXBlckNsdXN0ZXJBZGFwdGVyTG9hZGVyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlN1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsImltcG9ydCB7IEJ1aWxkZXIgfSBmcm9tICcuL2J1aWxkZXInO1xuaW1wb3J0IHsgQ2x1c3RlcmVySGVscGVyIH0gZnJvbSAnLi9oZWxwZXInO1xuaW1wb3J0IHsgSVN0eWxlLCBPdmVybGFwcGluZ01hcmtlclNwaWRlcmZpZXIsIElTdXBlckNsdXN0ZXJBZGFwdGVyIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IFNJWkVTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IFN1cGVyY2x1c3RlciBmcm9tICdzdXBlcmNsdXN0ZXInO1xuaW1wb3J0ICogYXMgR2VvSlNPTiBmcm9tICdnZW9qc29uJztcblxuZXhwb3J0IGNsYXNzIFN1cGVyQ2x1c3RlckFkYXB0ZXIgaW1wbGVtZW50cyBJU3VwZXJDbHVzdGVyQWRhcHRlciB7XG4gIHByaXZhdGUgcE1hcDogZ29vZ2xlLm1hcHMuTWFwO1xuICBwcml2YXRlIHBSYWRpdXM6IG51bWJlcjtcbiAgcHJpdmF0ZSBwTWluWm9vbTogbnVtYmVyO1xuICBwcml2YXRlIHBNYXhab29tOiBudW1iZXI7XG4gIHByaXZhdGUgcFN0eWxlczogSVN0eWxlW107XG4gIHByaXZhdGUgcEltYWdlUGF0aDogc3RyaW5nO1xuICBwcml2YXRlIHBJbWFnZUV4dGVuc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHBab29tT25DbGljazogYm9vbGVhbjtcbiAgcHJpdmF0ZSBwRGF0YUxheWVyRGVmYXVsdDogZ29vZ2xlLm1hcHMuRGF0YTtcbiAgcHJpdmF0ZSBwTWFya2VyczogZ29vZ2xlLm1hcHMuTWFya2VyW107XG4gIHByaXZhdGUgcElkbGVMaXN0ZW5lcjogZ29vZ2xlLm1hcHMuTWFwc0V2ZW50TGlzdGVuZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBwSW5kZXg6IFN1cGVyY2x1c3RlcjtcbiAgcHJpdmF0ZSBwb2ludEZlYXR1cmVzOiBTdXBlcmNsdXN0ZXIuUG9pbnRGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz5bXSA9IFtdO1xuICBwcml2YXRlIHBOb25Qb2ludEZlYXR1cmVzOiBnb29nbGUubWFwcy5EYXRhLkZlYXR1cmVbXSA9IFtdO1xuICBwcml2YXRlIHBDdXN0b21NYXJrZXJJY29uOiAoXG4gICAgcG9pbnRGZWF0dXJlOiBTdXBlcmNsdXN0ZXIuUG9pbnRGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4sXG4gICkgPT4gc3RyaW5nIHwgZ29vZ2xlLm1hcHMuU3ltYm9sO1xuICBwcml2YXRlIHBDdXN0b21DbHVzdGVySWNvbjogKFxuICAgIGNsdXN0ZXJGZWF0dXJlOiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgICBjbHVzdGVySW5kZXg6IG51bWJlcixcbiAgKSA9PiBnb29nbGUubWFwcy5JY29uIHwgZ29vZ2xlLm1hcHMuU3ltYm9sIHwgbnVsbDtcbiAgcHJpdmF0ZSBwVXBkYXRlTWFya2VyT3B0aW9uczogKFxuICAgIHNjZmVhdHVyZTogU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLkNsdXN0ZXJGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4sXG4gICAgbWFya2VyOiBnb29nbGUubWFwcy5NYXJrZXIsXG4gICkgPT4gZ29vZ2xlLm1hcHMuTWFya2VyT3B0aW9ucyB8IG51bGw7XG4gIHByaXZhdGUgcE1hcmtlckNsaWNrOiAobWFya2VyOiBnb29nbGUubWFwcy5NYXJrZXIsIGV2ZW50OiBnb29nbGUubWFwcy5Nb3VzZUV2ZW50KSA9PiB2b2lkO1xuICBwcml2YXRlIHBGZWF0dXJlQ2xpY2s6IChldmVudDogZ29vZ2xlLm1hcHMuRGF0YS5Nb3VzZUV2ZW50KSA9PiB2b2lkO1xuICBwcml2YXRlIHBDbHVzdGVyQ2xpY2s6XG4gICAgfCAoKFxuICAgICAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICAgICAgZXZlbnQ6IGdvb2dsZS5tYXBzLk1vdXNlRXZlbnQsXG4gICAgICAgIG1hcEluc3RhbmNlOiBnb29nbGUubWFwcy5NYXAsXG4gICAgICAgIGNsdXN0ZXJlcjogU3VwZXJDbHVzdGVyQWRhcHRlcixcbiAgICAgICkgPT4gdm9pZClcbiAgICB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBwRmVhdHVyZVN0eWxlOiBnb29nbGUubWFwcy5EYXRhLlN0eWxpbmdGdW5jdGlvbjtcbiAgcHJpdmF0ZSBwU2VydmVyU2lkZUZlYXR1cmVUb1N1cGVyQ2x1c3RlcjogKFxuICAgIGZlYXR1cmU6IGFueSxcbiAgKSA9PiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPiB8IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPjtcbiAgcHJpdmF0ZSBwT3ZlcmxhcE1hcmtlclNwaWRlcmZpZXI6IE92ZXJsYXBwaW5nTWFya2VyU3BpZGVyZmllciB8IG51bGw7XG4gIHByaXZhdGUgcFVzZVNlcnZlclNpZGVDbHVzdGVyZXIgPSBmYWxzZTtcbiAgcHJpdmF0ZSBwR2V0Q2x1c3RlcnNTZXJ2ZXJTaWRlOiAoYmJveDogR2VvSlNPTi5CQm94LCB6b29tOiBudW1iZXIsIGNsdXN0ZXJUb1pvb20/OiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+O1xuXG4gIGNvbnN0cnVjdG9yKGJ1aWxkOiBCdWlsZGVyKSB7XG4gICAgdGhpcy5wTWFwID0gYnVpbGQubWFwO1xuICAgIHRoaXMucFJhZGl1cyA9IGJ1aWxkLnJhZGl1cztcbiAgICB0aGlzLnBNYXhab29tID0gYnVpbGQubWF4Wm9vbTtcbiAgICB0aGlzLnBNaW5ab29tID0gYnVpbGQubWluWm9vbTtcbiAgICB0aGlzLnBTdHlsZXMgPSBidWlsZC5zdHlsZXM7XG4gICAgdGhpcy5wSW1hZ2VQYXRoID0gYnVpbGQuaW1hZ2VQYXRoO1xuICAgIHRoaXMucEltYWdlRXh0ZW5zaW9uID0gYnVpbGQuaW1hZ2VFeHRlbnNpb247XG4gICAgdGhpcy5wWm9vbU9uQ2xpY2sgPSBidWlsZC56b29tT25DbGljaztcbiAgICB0aGlzLnBEYXRhTGF5ZXJEZWZhdWx0ID0gYnVpbGQubWFwPy5kYXRhID8/IG5ldyBnb29nbGUubWFwcy5EYXRhKCk7XG4gICAgdGhpcy5wTWFya2VycyA9IFtdO1xuICAgIHRoaXMucEluZGV4ID0gbmV3IFN1cGVyY2x1c3Rlcih7XG4gICAgICBtaW5ab29tOiB0aGlzLnBNaW5ab29tLFxuICAgICAgbWF4Wm9vbTogdGhpcy5wTWF4Wm9vbSxcbiAgICAgIHJhZGl1czogdGhpcy5wUmFkaXVzLFxuICAgIH0pO1xuICAgIHRoaXMucEN1c3RvbU1hcmtlckljb24gPSBidWlsZC5jdXN0b21NYXJrZXJJY29uO1xuICAgIHRoaXMucEN1c3RvbUNsdXN0ZXJJY29uID0gYnVpbGQuY3VzdG9tQ2x1c3Rlckljb247XG4gICAgdGhpcy5wVXBkYXRlTWFya2VyT3B0aW9ucyA9IGJ1aWxkLnVwZGF0ZU1hcmtlck9wdGlvbnM7XG4gICAgdGhpcy5wTWFya2VyQ2xpY2sgPSBidWlsZC5tYXJrZXJDbGljaztcbiAgICB0aGlzLnBGZWF0dXJlQ2xpY2sgPSBidWlsZC5mZWF0dXJlQ2xpY2s7XG4gICAgdGhpcy5wQ2x1c3RlckNsaWNrID0gYnVpbGQuY2x1c3RlckNsaWNrO1xuICAgIHRoaXMucEZlYXR1cmVTdHlsZSA9IGJ1aWxkLmZlYXR1cmVTdHlsZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgdGhpcy5wU2VydmVyU2lkZUZlYXR1cmVUb1N1cGVyQ2x1c3RlciA9IGJ1aWxkLnNlcnZlclNpZGVGZWF0dXJlVG9TdXBlckNsdXN0ZXI7XG4gICAgdGhpcy5wT3ZlcmxhcE1hcmtlclNwaWRlcmZpZXIgPSBidWlsZC5vdmVybGFwTWFya2VyU3BpZGVyZmllcjtcbiAgICB0aGlzLnBVc2VTZXJ2ZXJTaWRlQ2x1c3RlcmVyID0gYnVpbGQudXNlU2VydmVyU2lkZUNsdXN0ZXJlcjtcbiAgICB0aGlzLnBHZXRDbHVzdGVyc1NlcnZlclNpZGUgPSBidWlsZC5nZXRDbHVzdGVyc1NlcnZlclNpZGU7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICAvKiAtLS0tIEdldHRlcnMgLS0tLSAqL1xuICBnZXQgbWFwKCk6IGdvb2dsZS5tYXBzLk1hcCB7XG4gICAgcmV0dXJuIHRoaXMucE1hcDtcbiAgfVxuXG4gIGdldCByYWRpdXMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wUmFkaXVzO1xuICB9XG5cbiAgZ2V0IG1heFpvb20oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wTWF4Wm9vbTtcbiAgfVxuXG4gIGdldCBtaW5ab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucE1pblpvb207XG4gIH1cblxuICBnZXQgc3R5bGVzKCk6IElTdHlsZVtdIHtcbiAgICByZXR1cm4gdGhpcy5wU3R5bGVzO1xuICB9XG5cbiAgc2V0IHN0eWxlcyhzdHlsZXM6IElTdHlsZVtdKSB7XG4gICAgdGhpcy5wU3R5bGVzID0gc3R5bGVzO1xuICB9XG5cbiAgZ2V0IGltYWdlUGF0aCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBJbWFnZVBhdGg7XG4gIH1cblxuICBnZXQgaW1hZ2VFeHRlbnNpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wSW1hZ2VFeHRlbnNpb247XG4gIH1cblxuICBnZXQgaXNab29tT25DbGljaygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wWm9vbU9uQ2xpY2s7XG4gIH1cblxuICBnZXQgbnVtRmVhdHVyZXMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5mZWF0dXJlcy5sZW5ndGg7XG4gIH1cblxuICBnZXQgaGFzRmVhdHVyZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubnVtRmVhdHVyZXMgPiAwO1xuICB9XG5cbiAgZ2V0IGZlYXR1cmVzKCk6IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPltdIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludEZlYXR1cmVzO1xuICB9XG5cbiAgZ2V0IHVzZVNlcnZlclNpZGVDbHVzdGVyZXIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucFVzZVNlcnZlclNpZGVDbHVzdGVyZXI7XG4gIH1cblxuICAvKiAtLS0tIFB1YmxpYyBtZXRob2RzIC0tLS0gKi9cbiAgcHVibGljIHNldFZpc2libGUodjogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuc2V0VmlzaWJsZU1hcmtlcnNBbmRDbHVzdGVycyh2KTtcbiAgICB0aGlzLnNldFZpc2libGVEYXRhTGF5ZXJGZWF0dXJlcyh2KTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWaXNpYmxlTWFya2Vyc0FuZENsdXN0ZXJzKHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoIXYpIHtcbiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuaGlkZU1hcmtlcnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5zaG93TWFya2VycygpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzZXRWaXNpYmxlRGF0YUxheWVyRmVhdHVyZXModjogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICghdikge1xuICAgICAgdGhpcy5wRGF0YUxheWVyRGVmYXVsdC5zZXRNYXAobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucERhdGFMYXllckRlZmF1bHQuc2V0TWFwKHRoaXMucE1hcCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEZlYXR1cmVzQm91bmRzKCk6IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyB7XG4gICAgY29uc3QgZmVhdHVyZXNCb3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gICAgZm9yIChjb25zdCBub25Qb2ludEZlYXR1cmUgb2YgdGhpcy5wTm9uUG9pbnRGZWF0dXJlcykge1xuICAgICAgZmVhdHVyZXNCb3VuZHMudW5pb24oQ2x1c3RlcmVySGVscGVyLmZlYXR1cmVCb3VuZHMobm9uUG9pbnRGZWF0dXJlKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcG9pbnRGZWF0dXJlIG9mIHRoaXMuZmVhdHVyZXMpIHtcbiAgICAgIGZlYXR1cmVzQm91bmRzLmV4dGVuZCh7XG4gICAgICAgIGxhdDogcG9pbnRGZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLFxuICAgICAgICBsbmc6IHBvaW50RmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZXNCb3VuZHM7XG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5yZW1vdmVGZWF0dXJlc0Zyb21EYXRhTGF5ZXJzKCk7XG4gICAgdGhpcy5yZW1vdmVNYXJrZXJzKCk7XG4gICAgdGhpcy5wU3R5bGVzID0gW107XG4gICAgdGhpcy5wTm9uUG9pbnRGZWF0dXJlcyA9IFtdO1xuICAgIHRoaXMucG9pbnRGZWF0dXJlcyA9IFtdO1xuICB9XG5cbiAgcHVibGljIGxvYWQoZ2VvSnNvbjogR2VvSlNPTi5GZWF0dXJlQ29sbGVjdGlvbik6IHZvaWQge1xuICAgIGlmICh0aGlzLnBvaW50RmVhdHVyZXMubGVuZ3RoIHx8IHRoaXMucE5vblBvaW50RmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcignVGhlcmUgYXJlIGxvYWRlZCBkYXRhIGluIHN1cGVyY2x1c3RlciBhZGFwdGVyIGFscmVhZHknKTtcbiAgICB9XG5cbiAgICBjb25zdCBvdGhlckZlYXR1cmVzQ29sbGVjdGlvbjogR2VvSlNPTi5GZWF0dXJlQ29sbGVjdGlvbiA9IHtcbiAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICBmZWF0dXJlczogW10sXG4gICAgfTtcbiAgICBpZiAoZ2VvSnNvbiAmJiBnZW9Kc29uLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicgJiYgZ2VvSnNvbi5mZWF0dXJlcyAmJiBnZW9Kc29uLmZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIGdlb0pzb24uZmVhdHVyZXMpIHtcbiAgICAgICAgaWYgKGZlYXR1cmUudHlwZSA9PT0gJ0ZlYXR1cmUnICYmIGZlYXR1cmUuZ2VvbWV0cnkpIHtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSAnUG9pbnQnKSB7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZS5pZCAmJiAhZmVhdHVyZS5wcm9wZXJ0aWVzPy5pZCkge1xuICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5wcm9wZXJ0aWVzLmlkID0gZmVhdHVyZS5pZDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAgICAgICBpZDogZmVhdHVyZS5pZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvaW50RmVhdHVyZXMucHVzaChmZWF0dXJlIGFzIFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG90aGVyRmVhdHVyZXNDb2xsZWN0aW9uLmZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wSW5kZXgubG9hZCh0aGlzLnBvaW50RmVhdHVyZXMpO1xuICAgIHRoaXMucE5vblBvaW50RmVhdHVyZXMgPSB0aGlzLnBEYXRhTGF5ZXJEZWZhdWx0LmFkZEdlb0pzb24ob3RoZXJGZWF0dXJlc0NvbGxlY3Rpb24pO1xuICAgIHZvaWQgdGhpcy5nZXRDbHVzdGVycygpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBkcmF3U2VydmVyU2lkZUNhbGN1bGF0ZWRDbHVzdGVycyhmZWF0dXJlczogYW55W10pOiB2b2lkIHtcbiAgICBjb25zdCBzY2ZlYXR1cmVzOiAoXG4gICAgICB8IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+XG4gICAgICB8IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPlxuICAgIClbXSA9IFtdO1xuICAgIGlmIChmZWF0dXJlcyAmJiBmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBmZWF0dXJlcykge1xuICAgICAgICBjb25zdCBzY2ZlYXR1cmUgPSB0aGlzLnBTZXJ2ZXJTaWRlRmVhdHVyZVRvU3VwZXJDbHVzdGVyKGZlYXR1cmUpO1xuICAgICAgICBzY2ZlYXR1cmVzLnB1c2goc2NmZWF0dXJlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5kcmF3Q2x1c3RlcnMoc2NmZWF0dXJlcyk7XG4gIH1cblxuICAvKiAtLS0tIEJ1aWxkZXIgcGF0dGVybiBpbXBsZW1lbnRhdGlvbiAtLS0tICovXG4gIHN0YXRpYyBnZXQgQnVpbGRlcigpOiB0eXBlb2YgQnVpbGRlciB7XG4gICAgcmV0dXJuIEJ1aWxkZXI7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldENsdXN0ZXJzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5tYXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBtYXBCb3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKSA/PyBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gICAgY29uc3Qgem9vbSA9IHRoaXMubWFwLmdldFpvb20oKSA/PyAwO1xuXG4gICAgaWYgKCFtYXBCb3VuZHMuaXNFbXB0eSgpICYmIHpvb20pIHtcbiAgICAgIGNvbnN0IGJib3g6IEdlb0pTT04uQkJveCA9IFtcbiAgICAgICAgbWFwQm91bmRzLmdldFNvdXRoV2VzdCgpLmxuZygpLFxuICAgICAgICBtYXBCb3VuZHMuZ2V0U291dGhXZXN0KCkubGF0KCksXG4gICAgICAgIG1hcEJvdW5kcy5nZXROb3J0aEVhc3QoKS5sbmcoKSxcbiAgICAgICAgbWFwQm91bmRzLmdldE5vcnRoRWFzdCgpLmxhdCgpLFxuICAgICAgXTtcbiAgICAgIGlmICh0aGlzLnVzZVNlcnZlclNpZGVDbHVzdGVyZXIpIHtcbiAgICAgICAgbGV0IGNsdXN0ZXJzOiBhbnlbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjbHVzdGVycyA9IGF3YWl0IHRoaXMucEdldENsdXN0ZXJzU2VydmVyU2lkZShiYm94LCB6b29tKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdTZXJ2ZXJTaWRlQ2FsY3VsYXRlZENsdXN0ZXJzKGNsdXN0ZXJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5wSW5kZXguZ2V0Q2x1c3RlcnMoYmJveCwgem9vbSk7XG4gICAgICAgIHRoaXMuZHJhd0NsdXN0ZXJzKGNsdXN0ZXJzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5zZXR1cFN0eWxlcygpO1xuICAgIHRoaXMucERhdGFMYXllckRlZmF1bHQuYWRkTGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wRmVhdHVyZUNsaWNrKTtcbiAgICBpZiAodGhpcy5wRmVhdHVyZVN0eWxlKSB7XG4gICAgICB0aGlzLnBEYXRhTGF5ZXJEZWZhdWx0LnNldFN0eWxlKHRoaXMucEZlYXR1cmVTdHlsZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnVzZVNlcnZlclNpZGVDbHVzdGVyZXIpIHtcbiAgICAgIHZvaWQgdGhpcy5nZXRDbHVzdGVycygpO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBTdHlsZXMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucFN0eWxlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgU0laRVMuZm9yRWFjaCgoc2l6ZSwgaSkgPT4ge1xuICAgICAgdGhpcy5wU3R5bGVzLnB1c2goe1xuICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgIHVybDogYCR7dGhpcy5wSW1hZ2VQYXRofSR7aSArIDF9LiR7dGhpcy5wSW1hZ2VFeHRlbnNpb259YCxcbiAgICAgICAgd2lkdGg6IHNpemUsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucElkbGVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5wSWRsZUxpc3RlbmVyID0gZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXAsICdpZGxlJywgKCkgPT4ge1xuICAgICAgICB2b2lkIHRoaXMuZ2V0Q2x1c3RlcnMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucElkbGVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5wSWRsZUxpc3RlbmVyLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZHJhd0NsdXN0ZXJzKFxuICAgIGNsdXN0ZXJzOiAoU3VwZXJjbHVzdGVyLkNsdXN0ZXJGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4gfCBTdXBlcmNsdXN0ZXIuUG9pbnRGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4pW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG1hcENsdXN0ZXJzID0gdGhpcy5nZXRDbHVzdGVyc01hcCh0aGlzLnBNYXJrZXJzKTtcbiAgICBjb25zdCBtYXBNYXJrZXJzID0gdGhpcy5nZXRNYXJrZXJzTWFwKHRoaXMucE1hcmtlcnMpO1xuICAgIHRoaXMucE1hcmtlcnMubGVuZ3RoID0gMDtcblxuICAgIGZvciAoY29uc3Qgc2NmZWF0dXJlIG9mIGNsdXN0ZXJzKSB7XG4gICAgICBsZXQgbWFya2VyID0gdGhpcy5maW5kRXhpc3RpbmdNYXJrZXJJbnN0YW5jZShzY2ZlYXR1cmUsIG1hcENsdXN0ZXJzLCBtYXBNYXJrZXJzKTtcbiAgICAgIGlmICghbWFya2VyKSB7XG4gICAgICAgIG1hcmtlciA9IHRoaXMuc3VwZXJjbHVzdGVyRmVhdHVyZVRvR21hcHNNYXJrZXIoc2NmZWF0dXJlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnBVcGRhdGVNYXJrZXJPcHRpb25zKHNjZmVhdHVyZSwgbWFya2VyKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgICBtYXJrZXIuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5wTWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBvbGQgY2x1c3RlcnMuXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBvQ2x1c3RlciBvZiBtYXBDbHVzdGVycy52YWx1ZXMoKSkge1xuICAgICAgICBvQ2x1c3Rlci5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IG9NYXJrZXIgb2YgbWFwTWFya2Vycy52YWx1ZXMoKSkge1xuICAgICAgICBvTWFya2VyLnNldE1hcChudWxsKTtcbiAgICAgICAgaWYgKHRoaXMucE92ZXJsYXBNYXJrZXJTcGlkZXJmaWVyKSB7XG4gICAgICAgICAgdGhpcy5wT3ZlcmxhcE1hcmtlclNwaWRlcmZpZXIuZm9yZ2V0TWFya2VyKG9NYXJrZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTUwKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2x1c3RlcnNNYXAoY29sbGVjdGlvbjogZ29vZ2xlLm1hcHMuTWFya2VyW10pIHtcbiAgICBjb25zdCByZXM6IE1hcDxudW1iZXIsIGdvb2dsZS5tYXBzLk1hcmtlcj4gPSBuZXcgTWFwPG51bWJlciwgZ29vZ2xlLm1hcHMuTWFya2VyPigpO1xuICAgIGZvciAoY29uc3QgbWFya2VyIG9mIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChtYXJrZXIuZ2V0KCdjbHVzdGVyJykgPT09IHRydWUpIHtcbiAgICAgICAgcmVzLnNldChtYXJrZXIuZ2V0KCdjbHVzdGVyX2lkJykgYXMgbnVtYmVyLCBtYXJrZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNYXJrZXJzTWFwKGNvbGxlY3Rpb246IGdvb2dsZS5tYXBzLk1hcmtlcltdKSB7XG4gICAgY29uc3QgcmVzOiBNYXA8bnVtYmVyIHwgc3RyaW5nLCBnb29nbGUubWFwcy5NYXJrZXI+ID0gbmV3IE1hcDxudW1iZXIgfCBzdHJpbmcsIGdvb2dsZS5tYXBzLk1hcmtlcj4oKTtcbiAgICBmb3IgKGNvbnN0IG1hcmtlciBvZiBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAobWFya2VyLmdldCgnY2x1c3RlcicpICE9PSB0cnVlICYmIG1hcmtlci5nZXQoJ2lkJykpIHtcbiAgICAgICAgcmVzLnNldChtYXJrZXIuZ2V0KCdpZCcpLCBtYXJrZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kRXhpc3RpbmdNYXJrZXJJbnN0YW5jZShcbiAgICBzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICAgIGV4aXN0aW5nQ2x1c3RlcnM6IE1hcDxudW1iZXIsIGdvb2dsZS5tYXBzLk1hcmtlcj4sXG4gICAgZXhpc3RpbmdNYXJrZXJzOiBNYXA8bnVtYmVyIHwgc3RyaW5nLCBnb29nbGUubWFwcy5NYXJrZXI+LFxuICApOiBnb29nbGUubWFwcy5NYXJrZXIgfCB1bmRlZmluZWQge1xuICAgIGxldCByZXM7XG4gICAgaWYgKHNjZmVhdHVyZS5wcm9wZXJ0aWVzLmNsdXN0ZXIgPT09IHRydWUpIHtcbiAgICAgIGlmIChleGlzdGluZ0NsdXN0ZXJzLmhhcyhzY2ZlYXR1cmUucHJvcGVydGllcy5jbHVzdGVyX2lkKSkge1xuICAgICAgICByZXMgPSBleGlzdGluZ0NsdXN0ZXJzLmdldChzY2ZlYXR1cmUucHJvcGVydGllcy5jbHVzdGVyX2lkKTtcbiAgICAgICAgZXhpc3RpbmdDbHVzdGVycy5kZWxldGUoc2NmZWF0dXJlLnByb3BlcnRpZXMuY2x1c3Rlcl9pZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzY2ZlYXR1cmUucHJvcGVydGllcy5pZCAmJiBleGlzdGluZ01hcmtlcnMuaGFzKHNjZmVhdHVyZS5wcm9wZXJ0aWVzLmlkKSkge1xuICAgICAgICByZXMgPSBleGlzdGluZ01hcmtlcnMuZ2V0KHNjZmVhdHVyZS5wcm9wZXJ0aWVzLmlkKTtcbiAgICAgICAgZXhpc3RpbmdNYXJrZXJzLmRlbGV0ZShzY2ZlYXR1cmUucHJvcGVydGllcy5pZCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICByZXM/LmdldFBvc2l0aW9uKCk/LmxhdCgpICE9PSBzY2ZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0gfHxcbiAgICAgICAgICByZXM/LmdldFBvc2l0aW9uKCk/LmxuZygpICE9PSBzY2ZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1cbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVzPy5zZXRQb3NpdGlvbih7XG4gICAgICAgICAgICBsYXQ6IHNjZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSxcbiAgICAgICAgICAgIGxuZzogc2NmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cblxuICBwcml2YXRlIGNsZWFyTm9uUG9pbnRGZWF0dXJlcygpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgdGhpcy5wTm9uUG9pbnRGZWF0dXJlcykge1xuICAgICAgaWYgKHRoaXMucERhdGFMYXllckRlZmF1bHQ/LmNvbnRhaW5zKGZlYXR1cmUpKSB7XG4gICAgICAgIHRoaXMucERhdGFMYXllckRlZmF1bHQucmVtb3ZlKGZlYXR1cmUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3VwZXJjbHVzdGVyRmVhdHVyZVRvR21hcHNNYXJrZXIoXG4gICAgc2NmZWF0dXJlOiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPiB8IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgKTogZ29vZ2xlLm1hcHMuTWFya2VyIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXRNYXJrZXJPcHRpb25zKHNjZmVhdHVyZSk7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcihvcHRpb25zKTtcbiAgICB0aGlzLmFzc2lnbkFkZGl0aW9uYWxQcm9wZXJ0aWVzKG1hcmtlciwgc2NmZWF0dXJlKTtcbiAgICB0aGlzLmFzc2lnbkV2ZW50c1RvTWFya2VyKG1hcmtlcik7XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TWFya2VyT3B0aW9ucyhcbiAgICBzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICApOiBnb29nbGUubWFwcy5NYXJrZXJPcHRpb25zIHtcbiAgICBsZXQgb3B0aW9uczogZ29vZ2xlLm1hcHMuTWFya2VyT3B0aW9ucztcbiAgICBpZiAoc2NmZWF0dXJlLnByb3BlcnRpZXMuY2x1c3RlciA9PT0gdHJ1ZSkge1xuICAgICAgb3B0aW9ucyA9IHRoaXMuZ2V0TWFya2VyT3B0aW9uc0ZvckNsdXN0ZXIoc2NmZWF0dXJlIGFzIFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IHRoaXMuZ2V0TWFya2VyT3B0aW9uc0ZvclBvaW50KHNjZmVhdHVyZSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNYXJrZXJPcHRpb25zRm9yQ2x1c3RlcihcbiAgICBzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICApOiBnb29nbGUubWFwcy5NYXJrZXJPcHRpb25zIHtcbiAgICBjb25zdCBvcHRpb25zOiBnb29nbGUubWFwcy5NYXJrZXJPcHRpb25zID0ge1xuICAgICAgcG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoc2NmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLCBzY2ZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pLFxuICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgIGNsaWNrYWJsZTogdGhpcy5wWm9vbU9uQ2xpY2ssXG4gICAgICBpY29uOiB0aGlzLmdldENsdXN0ZXJJY29uKHNjZmVhdHVyZSksXG4gICAgICBsYWJlbDogdGhpcy5nZXRDbHVzdGVyTGFiZWwoc2NmZWF0dXJlKSxcbiAgICAgIHRpdGxlOiBgJHtzY2ZlYXR1cmUucHJvcGVydGllcy5wb2ludF9jb3VudF9hYmJyZXZpYXRlZH0gcG9zaXRpb25zIGluIHRoZSBjbHVzdGVyYCxcbiAgICAgIHZpc2libGU6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2x1c3Rlckljb24oXG4gICAgc2NmZWF0dXJlOiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgKTogZ29vZ2xlLm1hcHMuSWNvbiB8IGdvb2dsZS5tYXBzLlN5bWJvbCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmdldENsdXN0ZXJJY29uSW5kZXgoc2NmZWF0dXJlKTtcbiAgICBjb25zdCBjdXN0b21JY29uID0gdGhpcy5wQ3VzdG9tQ2x1c3Rlckljb24oc2NmZWF0dXJlLCBpbmRleCk7XG4gICAgaWYgKGN1c3RvbUljb24gPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHN0eWxlOiBJU3R5bGUgPSB0aGlzLnN0eWxlc1tpbmRleF07XG4gICAgICBjb25zdCB3aWR0aCA9IHN0eWxlPy53aWR0aCA/PyBTSVpFU1swXTtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHN0eWxlPy5oZWlnaHQgPz8gU0laRVNbMF07XG4gICAgICBjb25zdCBhbmNob3JYID0gc3R5bGU/LmFuY2hvcj8ubGVuZ3RoID8gc3R5bGUuYW5jaG9yWzBdIDogd2lkdGggLyAyO1xuICAgICAgY29uc3QgYW5jaG9yWSA9IHN0eWxlPy5hbmNob3IgJiYgc3R5bGU/LmFuY2hvci5sZW5ndGggPiAxID8gc3R5bGUuYW5jaG9yWzFdIDogaGVpZ2h0IC8gMjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKHdpZHRoLCBoZWlnaHQpLFxuICAgICAgICBhbmNob3I6IG5ldyBnb29nbGUubWFwcy5Qb2ludChhbmNob3JYLCBhbmNob3JZKSxcbiAgICAgICAgdXJsOiBzdHlsZS51cmwsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY3VzdG9tSWNvbjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2x1c3Rlckljb25JbmRleChzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+KTogbnVtYmVyIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBkdiA9IHNjZmVhdHVyZS5wcm9wZXJ0aWVzLnBvaW50X2NvdW50O1xuICAgIHdoaWxlIChkdiAhPT0gMCkge1xuICAgICAgZHYgPSBNYXRoLmZsb29yKGR2IC8gMTApO1xuICAgICAgaW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKGluZGV4LCB0aGlzLnBTdHlsZXMubGVuZ3RoIC0gMSk7XG4gIH1cblxuICBwcml2YXRlIGdldENsdXN0ZXJMYWJlbChzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+KTogZ29vZ2xlLm1hcHMuTWFya2VyTGFiZWwge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXRDbHVzdGVySWNvbkluZGV4KHNjZmVhdHVyZSk7XG4gICAgY29uc3Qgc3R5bGU6IElTdHlsZSA9IHRoaXMuc3R5bGVzW2luZGV4XTtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6IHN0eWxlPy50ZXh0Q29sb3IgPz8gJ2JsYWNrJyxcbiAgICAgIGZvbnRGYW1pbHk6IHN0eWxlPy5mb250RmFtaWx5ID8/ICdSb2JvdG8nLFxuICAgICAgZm9udFNpemU6IGAke3N0eWxlPy50ZXh0U2l6ZSA/PyAxNH1weGAsXG4gICAgICBmb250V2VpZ2h0OiBzdHlsZT8uZm9udFdlaWdodCA/PyAnbm9ybWFsJyxcbiAgICAgIHRleHQ6IGAke3NjZmVhdHVyZS5wcm9wZXJ0aWVzLnBvaW50X2NvdW50X2FiYnJldmlhdGVkfWAsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TWFya2VyT3B0aW9uc0ZvclBvaW50KFxuICAgIHNjZmVhdHVyZTogU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICApOiBnb29nbGUubWFwcy5NYXJrZXJPcHRpb25zIHtcbiAgICBsZXQgbUljb246IGdvb2dsZS5tYXBzLkljb24gfCBnb29nbGUubWFwcy5TeW1ib2w7XG4gICAgY29uc3QgY3VzdG9tTWFya2VyT2JqZWN0ID0gdGhpcy5wQ3VzdG9tTWFya2VySWNvbihzY2ZlYXR1cmUpO1xuICAgIGlmICh0eXBlb2YgY3VzdG9tTWFya2VyT2JqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgbUljb24gPSB7XG4gICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDMyLCAzMiksXG4gICAgICAgIHVybDogY3VzdG9tTWFya2VyT2JqZWN0LFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbUljb24gPSBjdXN0b21NYXJrZXJPYmplY3Q7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9uczogZ29vZ2xlLm1hcHMuTWFya2VyT3B0aW9ucyA9IHtcbiAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHNjZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSwgc2NmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdKSxcbiAgICAgIG1hcDogdGhpcy5tYXAsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICBpY29uOiBtSWNvbixcbiAgICAgIHRpdGxlOiAoc2NmZWF0dXJlLnByb3BlcnRpZXMubmFtZSBhcyBzdHJpbmcpID8/ICcnLFxuICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICB9O1xuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3NpZ25BZGRpdGlvbmFsUHJvcGVydGllcyhcbiAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICBzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICApOiB2b2lkIHtcbiAgICBpZiAoc2NmZWF0dXJlLnByb3BlcnRpZXMuY2x1c3RlciA9PT0gdHJ1ZSkge1xuICAgICAgbWFya2VyLnNldCgnY2x1c3RlcicsIHRydWUpO1xuICAgICAgbWFya2VyLnNldCgnY2x1c3Rlcl9pZCcsIHNjZmVhdHVyZS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQgPz8gQ2x1c3RlcmVySGVscGVyLmdldE5ld0lkKCkpO1xuICAgICAgbWFya2VyLnNldCgnY2x1c3Rlckhhc2hDb2RlJywgc2NmZWF0dXJlLnByb3BlcnRpZXMuY2x1c3Rlckhhc2hDb2RlID8/ICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFya2VyLnNldCgnaWQnLCBzY2ZlYXR1cmUucHJvcGVydGllcz8uaWQgPz8gc2NmZWF0dXJlLmlkID8/IENsdXN0ZXJlckhlbHBlci5nZXROZXdJZCgpKTtcbiAgICAgIGlmICh0aGlzLnBPdmVybGFwTWFya2VyU3BpZGVyZmllcikge1xuICAgICAgICB0aGlzLnBPdmVybGFwTWFya2VyU3BpZGVyZmllci50cmFja01hcmtlcihtYXJrZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXNzaWduRXZlbnRzVG9NYXJrZXIobWFya2VyOiBnb29nbGUubWFwcy5NYXJrZXIpIHtcbiAgICBpZiAobWFya2VyLmdldENsaWNrYWJsZSgpKSB7XG4gICAgICBjb25zdCBldmVudE5hbWU6IHN0cmluZyA9IHRoaXMuZ2V0Q2xpY2tFdmVudE5hbWUobWFya2VyKTtcbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgZXZlbnROYW1lLCAoZXZlbnQ6IGdvb2dsZS5tYXBzLk1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKG1hcmtlci5nZXQoJ2NsdXN0ZXInKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGV2ZW50LnN0b3AoKTtcbiAgICAgICAgICBjb25zdCBldlBvcyA9IGV2ZW50LmxhdExuZztcbiAgICAgICAgICBpZiAoIXRoaXMudXNlU2VydmVyU2lkZUNsdXN0ZXJlciAmJiB0aGlzLmZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgY2x1c3RlcklkOiBudW1iZXIgPSBtYXJrZXIuZ2V0KCdjbHVzdGVyX2lkJykgYXMgbnVtYmVyO1xuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMucEluZGV4LmdldENsdXN0ZXJFeHBhbnNpb25ab29tKGNsdXN0ZXJJZCk7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgY2VudGVyOiBldlBvcyxcbiAgICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy51c2VTZXJ2ZXJTaWRlQ2x1c3RlcmVyICYmIHRoaXMucENsdXN0ZXJDbGljaykge1xuICAgICAgICAgICAgICB0aGlzLnBDbHVzdGVyQ2xpY2sobWFya2VyLCBldmVudCwgdGhpcy5tYXAsIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgYm91bmRzID0gQ2x1c3RlcmVySGVscGVyLmdldENsdXN0ZXJCb3VuZHModGhpcy5tYXAsIG1hcmtlciwgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICBpZiAoIWJvdW5kcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzLCA1KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBNYXJrZXJDbGljayhtYXJrZXIsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbGlja0V2ZW50TmFtZShtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcik6IHN0cmluZyB7XG4gICAgbGV0IGV2ZW50TmFtZSA9ICdjbGljayc7XG4gICAgaWYgKG1hcmtlci5nZXQoJ2NsdXN0ZXInKSAhPT0gdHJ1ZSAmJiB0aGlzLnBPdmVybGFwTWFya2VyU3BpZGVyZmllcikge1xuICAgICAgZXZlbnROYW1lID0gJ3NwaWRlcl9jbGljayc7XG4gICAgfVxuICAgIHJldHVybiBldmVudE5hbWU7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUZlYXR1cmVzRnJvbURhdGFMYXllcnMoKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhck5vblBvaW50RmVhdHVyZXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGlkZU1hcmtlcnMoKSB7XG4gICAgaWYgKHRoaXMucE1hcmtlcnMgJiYgdGhpcy5wTWFya2Vycy5sZW5ndGgpIHtcbiAgICAgIGZvciAoY29uc3QgbWFya2VyIG9mIHRoaXMucE1hcmtlcnMpIHtcbiAgICAgICAgbWFya2VyLnNldE1hcChudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNob3dNYXJrZXJzKG1hcmtlcnM6IGdvb2dsZS5tYXBzLk1hcmtlcltdIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgbWFya2VyQ29sbGVjdGlvbiA9IG1hcmtlcnMgPz8gdGhpcy5wTWFya2VycztcbiAgICBpZiAobWFya2VyQ29sbGVjdGlvbiAmJiBtYXJrZXJDb2xsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCBtYXJrZXIgb2YgbWFya2VyQ29sbGVjdGlvbikge1xuICAgICAgICBtYXJrZXIuc2V0TWFwKHRoaXMubWFwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZU1hcmtlcnMoKSB7XG4gICAgdGhpcy5oaWRlTWFya2VycygpO1xuICAgIHRoaXMucE1hcmtlcnMgPSBbXTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IENMQVNTX05BTUVfREVGQVVMVCA9ICdjbHVzdGVyJztcbmV4cG9ydCBjb25zdCBNSU5fWk9PTV9ERUZBVUxUID0gMDtcbmV4cG9ydCBjb25zdCBNQVhfWk9PTV9ERUZBVUxUID0gMTk7XG5leHBvcnQgY29uc3QgUkFESVVTX0RFRkFVTFQgPSA4MDtcbmV4cG9ydCBjb25zdCBNSU5fQ0xVU1RFUl9TSVpFX0RFRkFVTFQgPSAyO1xuZXhwb3J0IGNvbnN0IE1BUktFUl9DTFVTVEVSX0lNQUdFX1BBVEhfREVGQVVMVCA9ICdodHRwczovL21hcHMtdG9vbHMtMjQyYTYuZmlyZWJhc2VhcHAuY29tL2NsdXN0ZXJlci9pbWFnZXMvbSc7XG5leHBvcnQgY29uc3QgTUFSS0VSX0NMVVNURVJfSU1BR0VfRVhURU5TSU9OID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcbiAgJ2h0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjSW1hZ2UnLFxuICAnMS4xJyxcbilcbiAgPyAnc3ZnJ1xuICA6ICdwbmcnO1xuZXhwb3J0IGNvbnN0IElDT05fVVJMX0RFRkFVTFQgPSAnaHR0cDovL21hcHMuZ29vZ2xlLmNvbS9tYXBmaWxlcy9rbWwvcGFkZGxlL2JsdS1ibGFuay5wbmcnO1xuZXhwb3J0IGNvbnN0IFNJWkVTID0gWzUzLCA1NiwgNjYsIDc4LCA5MF07XG4iLCJpbXBvcnQgeyBTdXBlckNsdXN0ZXJBZGFwdGVyIH0gZnJvbSAnLi9jbHVzdGVyZXInO1xuXG5jb25zdCBoYXNoRmVhdHVyZUNlbnRlcnM6IE1hcDxzdHJpbmcgfCBudW1iZXIsIGdvb2dsZS5tYXBzLkxhdExuZz4gPSBuZXcgTWFwPHN0cmluZyB8IG51bWJlciwgZ29vZ2xlLm1hcHMuTGF0TG5nPigpO1xuY29uc3QgaGFzaEZlYXR1cmVzQm91bmRzOiBNYXA8c3RyaW5nIHwgbnVtYmVyLCBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHM+ID0gbmV3IE1hcDxcbiAgc3RyaW5nIHwgbnVtYmVyLFxuICBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHNcbj4oKTtcbmNvbnN0IGluc3RhbmNlczogV2Vha01hcDxnb29nbGUubWFwcy5NYXAsIFN1cGVyQ2x1c3RlckFkYXB0ZXI+ID0gbmV3IFdlYWtNYXAoKTtcblxuZXhwb3J0IGNsYXNzIENsdXN0ZXJlckhlbHBlciB7XG4gIHByaXZhdGUgc3RhdGljIG5ld0lkID0gMTtcblxuICBwdWJsaWMgc3RhdGljIGZlYXR1cmVDZW50ZXIoZmVhdHVyZTogZ29vZ2xlLm1hcHMuRGF0YS5GZWF0dXJlKTogZ29vZ2xlLm1hcHMuTGF0TG5nIHtcbiAgICBpZiAoIWhhc2hGZWF0dXJlQ2VudGVycy5oYXMoZmVhdHVyZS5nZXRJZCgpKSkge1xuICAgICAgY29uc3QgZ2VvbSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcbiAgICAgIGlmIChnZW9tLmdldFR5cGUoKSA9PT0gJ1BvaW50Jykge1xuICAgICAgICBoYXNoRmVhdHVyZUNlbnRlcnMuc2V0KGZlYXR1cmUuZ2V0SWQoKSwgKGdlb20gYXMgZ29vZ2xlLm1hcHMuRGF0YS5Qb2ludCkuZ2V0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzaEZlYXR1cmVDZW50ZXJzLnNldChmZWF0dXJlLmdldElkKCksIENsdXN0ZXJlckhlbHBlci5mZWF0dXJlQm91bmRzKGZlYXR1cmUpLmdldENlbnRlcigpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gaGFzaEZlYXR1cmVDZW50ZXJzLmdldChmZWF0dXJlLmdldElkKCkpO1xuICAgIHJldHVybiByZXMgPyByZXMgOiBDbHVzdGVyZXJIZWxwZXIuZmVhdHVyZUJvdW5kcyhmZWF0dXJlKS5nZXRDZW50ZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZmVhdHVyZUJvdW5kcyhmZWF0dXJlOiBnb29nbGUubWFwcy5EYXRhLkZlYXR1cmUpOiBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMge1xuICAgIGlmICghaGFzaEZlYXR1cmVzQm91bmRzLmhhcyhmZWF0dXJlLmdldElkKCkpKSB7XG4gICAgICBjb25zdCBnZW9tID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgY29uc3QgZ2VvbUJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcbiAgICAgIGdlb20uZm9yRWFjaExhdExuZygobGF0TG5nKSA9PiB7XG4gICAgICAgIGdlb21Cb3VuZHMuZXh0ZW5kKGxhdExuZyk7XG4gICAgICB9KTtcbiAgICAgIGhhc2hGZWF0dXJlc0JvdW5kcy5zZXQoZmVhdHVyZS5nZXRJZCgpLCBnZW9tQm91bmRzKTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gaGFzaEZlYXR1cmVzQm91bmRzLmdldChmZWF0dXJlLmdldElkKCkpO1xuICAgIHJldHVybiByZXMgPyByZXMgOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGlzRmVhdHVyZUluQm91bmRzKGZlYXR1cmU6IGdvb2dsZS5tYXBzLkRhdGEuRmVhdHVyZSwgYm91bmRzOiBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMpOiBib29sZWFuIHtcbiAgICBpZiAoYm91bmRzKSB7XG4gICAgICBjb25zdCBnZW9tID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xuICAgICAgaWYgKGdlb20uZ2V0VHlwZSgpID09PSAnUG9pbnQnKSB7XG4gICAgICAgIHJldHVybiBib3VuZHMuY29udGFpbnMoKGdlb20gYXMgZ29vZ2xlLm1hcHMuRGF0YS5Qb2ludCkuZ2V0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJvdW5kcy5jb250YWlucyhDbHVzdGVyZXJIZWxwZXIuZmVhdHVyZUNlbnRlcihmZWF0dXJlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldENsdXN0ZXJlcihtYXA6IGdvb2dsZS5tYXBzLk1hcCk6IFN1cGVyQ2x1c3RlckFkYXB0ZXIgfCB1bmRlZmluZWQge1xuICAgIGlmIChpbnN0YW5jZXMuaGFzKG1hcCkpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZXMuZ2V0KG1hcCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHNldENsdXN0ZXJlcihtYXA6IGdvb2dsZS5tYXBzLk1hcCwgY2x1c3RlcmVyOiBTdXBlckNsdXN0ZXJBZGFwdGVyKTogdm9pZCB7XG4gICAgaWYgKGluc3RhbmNlcy5oYXMobWFwKSkge1xuICAgICAgY29uc3QgcHJldkluc3RhbmNlID0gaW5zdGFuY2VzLmdldChtYXApO1xuICAgICAgaWYgKHByZXZJbnN0YW5jZSkge1xuICAgICAgICBwcmV2SW5zdGFuY2UuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2VzLmRlbGV0ZShtYXApO1xuICAgIH1cbiAgICBpbnN0YW5jZXMuc2V0KG1hcCwgY2x1c3RlcmVyKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0Q2x1c3RlckJvdW5kcyhcbiAgICBtYXA6IGdvb2dsZS5tYXBzLk1hcCxcbiAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICByYWRpdXM6IG51bWJlcixcbiAgKTogZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzIHtcbiAgICBjb25zdCBib3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKCk7XG4gICAgaWYgKG1hcCAmJiBtYXJrZXIgJiYgcmFkaXVzKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IG1hcmtlci5nZXRQb3NpdGlvbigpO1xuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gQ2x1c3RlcmVySGVscGVyLmZyb21MYXRMbmdUb1BpeGVsKHBvc2l0aW9uLCBtYXApO1xuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICBjb25zdCBzd1BvaW50ID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KHBvaW50LnggLSByYWRpdXMsIHBvaW50LnkgLSByYWRpdXMpO1xuICAgICAgICAgIGNvbnN0IG5lUG9pbnQgPSBuZXcgZ29vZ2xlLm1hcHMuUG9pbnQocG9pbnQueCArIHJhZGl1cywgcG9pbnQueSArIHJhZGl1cyk7XG4gICAgICAgICAgY29uc3Qgc3cgPSBDbHVzdGVyZXJIZWxwZXIuZnJvbVBpeGVsVG9MYXRMbmcoc3dQb2ludCwgbWFwKTtcbiAgICAgICAgICBjb25zdCBuZSA9IENsdXN0ZXJlckhlbHBlci5mcm9tUGl4ZWxUb0xhdExuZyhuZVBvaW50LCBtYXApO1xuICAgICAgICAgIGlmIChzdykge1xuICAgICAgICAgICAgYm91bmRzLmV4dGVuZChzdyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZSkge1xuICAgICAgICAgICAgYm91bmRzLmV4dGVuZChuZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib3VuZHM7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldE5ld0lkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuICsrQ2x1c3RlcmVySGVscGVyLm5ld0lkO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZnJvbUxhdExuZ1RvUGl4ZWwocG9zaXRpb246IGdvb2dsZS5tYXBzLkxhdExuZywgbWFwOiBnb29nbGUubWFwcy5NYXApIHtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIG1hcC5nZXRab29tKCkpO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBtYXAuZ2V0UHJvamVjdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICBjb25zdCBudyA9IHByb2plY3Rpb24/LmZyb21MYXRMbmdUb1BvaW50KFxuICAgICAgbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhib3VuZHM/LmdldE5vcnRoRWFzdCgpLmxhdCgpID8/IDAsIGJvdW5kcz8uZ2V0U291dGhXZXN0KCkubG5nKCkgPz8gMCksXG4gICAgKTtcbiAgICBjb25zdCBwb2ludCA9IHByb2plY3Rpb24/LmZyb21MYXRMbmdUb1BvaW50KHBvc2l0aW9uKTtcbiAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLlBvaW50KFxuICAgICAgTWF0aC5mbG9vcigoKHBvaW50Py54ID8/IDApIC0gKG53Py54ID8/IDApKSAqIHNjYWxlKSxcbiAgICAgIE1hdGguZmxvb3IoKChwb2ludD8ueSA/PyAwKSAtIChudz8ueSA/PyAwKSkgKiBzY2FsZSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGZyb21QaXhlbFRvTGF0TG5nKHBpeGVsOiBnb29nbGUubWFwcy5Qb2ludCwgbWFwOiBnb29nbGUubWFwcy5NYXApIHtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIG1hcC5nZXRab29tKCkpO1xuICAgIGNvbnN0IHByb2plY3Rpb24gPSBtYXAuZ2V0UHJvamVjdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICBjb25zdCBudyA9IHByb2plY3Rpb24/LmZyb21MYXRMbmdUb1BvaW50KFxuICAgICAgbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhib3VuZHM/LmdldE5vcnRoRWFzdCgpLmxhdCgpID8/IDAsIGJvdW5kcz8uZ2V0U291dGhXZXN0KCkubG5nKCkgPz8gMCksXG4gICAgKTtcbiAgICBjb25zdCBwb2ludCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChwaXhlbC54IC8gc2NhbGUgKyAobnc/LnggPz8gMCksIHBpeGVsLnkgLyBzY2FsZSArIChudz8ueSA/PyAwKSk7XG4gICAgcmV0dXJuIHByb2plY3Rpb24/LmZyb21Qb2ludFRvTGF0TG5nKHBvaW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFN1cGVyQ2x1c3RlckFkYXB0ZXJMb2FkZXIge1xuICBwdWJsaWMgc3RhdGljIGFzeW5jIGdldENsdXN0ZXJlcigpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmIChnb29nbGUgJiYgZ29vZ2xlLm1hcHMpIHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IGltcG9ydCgnLi9jbHVzdGVyZXInKTtcbiAgICAgIHJldHVybiBtb2R1bGUuU3VwZXJDbHVzdGVyQWRhcHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHYzIGlzIG5vdCBsb2FkZWQuIENhbm5vdCBpbml0aWFsaXplIFN1cGVyQ2x1c3RlckFkYXB0ZXIuJyk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3VwZXJDbHVzdGVyQWRhcHRlciB9IGZyb20gJy4vY2x1c3RlcmVyJztcbmltcG9ydCB7XG4gIFJBRElVU19ERUZBVUxULFxuICBNQVJLRVJfQ0xVU1RFUl9JTUFHRV9FWFRFTlNJT04sXG4gIE1BUktFUl9DTFVTVEVSX0lNQUdFX1BBVEhfREVGQVVMVCxcbiAgTUFYX1pPT01fREVGQVVMVCxcbiAgTUlOX1pPT01fREVGQVVMVCxcbiAgSUNPTl9VUkxfREVGQVVMVCxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2x1c3RlcmVySGVscGVyIH0gZnJvbSAnLi9oZWxwZXInO1xuaW1wb3J0IHsgSVN0eWxlLCBPdmVybGFwcGluZ01hcmtlclNwaWRlcmZpZXIgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IFN1cGVyY2x1c3RlciBmcm9tICdzdXBlcmNsdXN0ZXInO1xuXG5leHBvcnQgY2xhc3MgQnVpbGRlciB7XG4gIHByaXZhdGUgcE1hcDogZ29vZ2xlLm1hcHMuTWFwO1xuICBwcml2YXRlIHBSYWRpdXM6IG51bWJlciA9IFJBRElVU19ERUZBVUxUO1xuICBwcml2YXRlIHBNYXhab29tOiBudW1iZXIgPSBNQVhfWk9PTV9ERUZBVUxUO1xuICBwcml2YXRlIHBNaW5ab29tOiBudW1iZXIgPSBNSU5fWk9PTV9ERUZBVUxUO1xuICBwcml2YXRlIHBTdHlsZXM6IElTdHlsZVtdID0gW107XG4gIHByaXZhdGUgcEltYWdlUGF0aDogc3RyaW5nID0gTUFSS0VSX0NMVVNURVJfSU1BR0VfUEFUSF9ERUZBVUxUO1xuICBwcml2YXRlIHBJbWFnZUV4dGVuc2lvbjogc3RyaW5nID0gTUFSS0VSX0NMVVNURVJfSU1BR0VfRVhURU5TSU9OO1xuICBwcml2YXRlIHBab29tT25DbGljayA9IHRydWU7XG4gIHByaXZhdGUgcEN1c3RvbU1hcmtlckljb246IChcbiAgICBwb2ludEZlYXR1cmU6IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgKSA9PiBzdHJpbmcgfCBnb29nbGUubWFwcy5TeW1ib2w7XG4gIHByaXZhdGUgcEN1c3RvbUNsdXN0ZXJJY29uOiAoXG4gICAgY2x1c3RlckZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICAgIGNsdXN0ZXJJbmRleDogbnVtYmVyLFxuICApID0+IGdvb2dsZS5tYXBzLkljb24gfCBnb29nbGUubWFwcy5TeW1ib2wgfCBudWxsO1xuICBwcml2YXRlIHBVcGRhdGVNYXJrZXJPcHRpb25zOiAoXG4gICAgc2NmZWF0dXJlOiBTdXBlcmNsdXN0ZXIuUG9pbnRGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4gfCBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgKSA9PiBnb29nbGUubWFwcy5NYXJrZXJPcHRpb25zIHwgbnVsbDtcbiAgcHJpdmF0ZSBwTWFya2VyQ2xpY2s6IChtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlciwgZXZlbnQ6IGdvb2dsZS5tYXBzLk1vdXNlRXZlbnQpID0+IHZvaWQ7XG4gIHByaXZhdGUgcEZlYXR1cmVDbGljazogKGV2ZW50OiBnb29nbGUubWFwcy5EYXRhLk1vdXNlRXZlbnQpID0+IHZvaWQ7XG4gIHByaXZhdGUgcENsdXN0ZXJDbGljazpcbiAgICB8ICgoXG4gICAgICAgIG1hcmtlcjogZ29vZ2xlLm1hcHMuTWFya2VyLFxuICAgICAgICBldmVudDogZ29vZ2xlLm1hcHMuTW91c2VFdmVudCxcbiAgICAgICAgbWFwSW5zdGFuY2U6IGdvb2dsZS5tYXBzLk1hcCxcbiAgICAgICAgY2x1c3RlcmVyOiBTdXBlckNsdXN0ZXJBZGFwdGVyLFxuICAgICAgKSA9PiB2b2lkKVxuICAgIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHBGZWF0dXJlU3R5bGU6IGdvb2dsZS5tYXBzLkRhdGEuU3R5bGluZ0Z1bmN0aW9uO1xuICBwcml2YXRlIHBTZXJ2ZXJTaWRlRmVhdHVyZVRvU3VwZXJDbHVzdGVyOiAoXG4gICAgZmVhdHVyZTogYW55LFxuICApID0+IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+O1xuICBwcml2YXRlIHBPdmVybGFwTWFya2VyU3BpZGVyZmllcjogT3ZlcmxhcHBpbmdNYXJrZXJTcGlkZXJmaWVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcFVzZVNlcnZlclNpZGVDbHVzdGVyZXIgPSBmYWxzZTtcbiAgcHJpdmF0ZSBwR2V0Q2x1c3RlcnNTZXJ2ZXJTaWRlOiAoYmJveDogR2VvSlNPTi5CQm94LCB6b29tOiBudW1iZXIsIGNsdXN0ZXJUb1pvb20/OiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+O1xuXG4gIGNvbnN0cnVjdG9yKG1hcDogZ29vZ2xlLm1hcHMuTWFwKSB7XG4gICAgdGhpcy5wTWFwID0gbWFwO1xuICAgIHRoaXMucEN1c3RvbU1hcmtlckljb24gPSAocG9pbnRGZWF0dXJlOiBTdXBlcmNsdXN0ZXIuUG9pbnRGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4pID0+IHtcbiAgICAgIGlmIChwb2ludEZlYXR1cmUucHJvcGVydGllcy5pY29uVXJsKSB7XG4gICAgICAgIHJldHVybiBwb2ludEZlYXR1cmUucHJvcGVydGllcy5pY29uVXJsIGFzIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBJQ09OX1VSTF9ERUZBVUxUO1xuICAgIH07XG4gICAgdGhpcy5wQ3VzdG9tQ2x1c3Rlckljb24gPSAoXG4gICAgICBjbHVzdGVyRmVhdHVyZTogU3VwZXJjbHVzdGVyLkNsdXN0ZXJGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4sXG4gICAgICBjbHVzdGVySW5kZXg6IG51bWJlcixcbiAgICApID0+IG51bGw7XG4gICAgdGhpcy5wVXBkYXRlTWFya2VyT3B0aW9ucyA9IChcbiAgICAgIHNjZmVhdHVyZTogU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLkNsdXN0ZXJGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4sXG4gICAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICApID0+IG51bGw7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHRoaXMucE1hcmtlckNsaWNrID0gKG1hcmtlcjogZ29vZ2xlLm1hcHMuTWFya2VyLCBldmVudDogZ29vZ2xlLm1hcHMuTW91c2VFdmVudCkgPT4ge1xuICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHRoaXMucEZlYXR1cmVDbGljayA9IChldmVudDogZ29vZ2xlLm1hcHMuRGF0YS5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgICByZXR1cm47XG4gICAgfTtcbiAgICB0aGlzLnBDbHVzdGVyQ2xpY2sgPSB1bmRlZmluZWQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHRoaXMucEZlYXR1cmVTdHlsZSA9IChmZWF0dXJlOiBnb29nbGUubWFwcy5EYXRhLkZlYXR1cmUpID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpIGFzIGdvb2dsZS5tYXBzLkRhdGEuU3R5bGVPcHRpb25zO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHRoaXMucFNlcnZlclNpZGVGZWF0dXJlVG9TdXBlckNsdXN0ZXIgPSAoZmVhdHVyZTogYW55KSA9PiB7XG4gICAgICBjb25zdCBzY2ZlYXR1cmU6IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPiA9IHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgY29vcmRpbmF0ZXM6IFswLCAwXSxcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHNjZmVhdHVyZTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMsIEB0eXBlc2NyaXB0LWVzbGludC9yZXF1aXJlLWF3YWl0XG4gICAgdGhpcy5wR2V0Q2x1c3RlcnNTZXJ2ZXJTaWRlID0gYXN5bmMgKGJib3g6IEdlb0pTT04uQkJveCwgem9vbTogbnVtYmVyLCBjbHVzdGVyVG9ab29tPzogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUmFkaXVzKHJhZGl1czogbnVtYmVyKTogQnVpbGRlciB7XG4gICAgdGhpcy5wUmFkaXVzID0gcmFkaXVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhNYXhab29tKG1heFpvb206IG51bWJlcik6IEJ1aWxkZXIge1xuICAgIHRoaXMucE1heFpvb20gPSBtYXhab29tO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhNaW5ab29tKG1pblpvb206IG51bWJlcik6IEJ1aWxkZXIge1xuICAgIHRoaXMucE1pblpvb20gPSBtaW5ab29tO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhTdHlsZXMoc3R5bGVzOiBJU3R5bGVbXSk6IEJ1aWxkZXIge1xuICAgIHRoaXMucFN0eWxlcyA9IHN0eWxlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoSW1hZ2VQYXRoKGltYWdlUGF0aDogc3RyaW5nKTogQnVpbGRlciB7XG4gICAgdGhpcy5wSW1hZ2VQYXRoID0gaW1hZ2VQYXRoO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhJbWFnZUV4dGVuc2lvbihpbWFnZUV4dGVuc2lvbjogc3RyaW5nKTogQnVpbGRlciB7XG4gICAgdGhpcy5wSW1hZ2VFeHRlbnNpb24gPSBpbWFnZUV4dGVuc2lvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoWm9vbU9uQ2xpY2soem9vbU9uQ2xpY2s6IGJvb2xlYW4pOiBCdWlsZGVyIHtcbiAgICB0aGlzLnBab29tT25DbGljayA9IHpvb21PbkNsaWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhDdXN0b21NYXJrZXJJY29uKFxuICAgIGN1c3RvbUljb246IChwb2ludEZlYXR1cmU6IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPikgPT4gc3RyaW5nIHwgZ29vZ2xlLm1hcHMuU3ltYm9sLFxuICApOiBCdWlsZGVyIHtcbiAgICB0aGlzLnBDdXN0b21NYXJrZXJJY29uID0gY3VzdG9tSWNvbiBhcyAoXG4gICAgICBwb2ludEZlYXR1cmU6IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgICApID0+IHN0cmluZyB8IGdvb2dsZS5tYXBzLlN5bWJvbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ3VzdG9tQ2x1c3Rlckljb24oXG4gICAgY3VzdG9tSWNvbjogKFxuICAgICAgY2x1c3RlckZlYXR1cmU6IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICAgICAgY2x1c3RlckluZGV4OiBudW1iZXIsXG4gICAgKSA9PiBnb29nbGUubWFwcy5JY29uIHwgZ29vZ2xlLm1hcHMuU3ltYm9sIHwgbnVsbCxcbiAgKTogQnVpbGRlciB7XG4gICAgdGhpcy5wQ3VzdG9tQ2x1c3Rlckljb24gPSBjdXN0b21JY29uIGFzIChcbiAgICAgIGNsdXN0ZXJGZWF0dXJlOiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgICAgIGNsdXN0ZXJJbmRleDogbnVtYmVyLFxuICAgICkgPT4gZ29vZ2xlLm1hcHMuSWNvbiB8IGdvb2dsZS5tYXBzLlN5bWJvbCB8IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aFVwZGF0ZU1hcmtlck9wdGlvbnMoXG4gICAgdXBkYXRlTWFya2VyT3B0aW9uczogKFxuICAgICAgc2NmZWF0dXJlOiBTdXBlcmNsdXN0ZXIuUG9pbnRGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4gfCBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgICAgIG1hcmtlcjogZ29vZ2xlLm1hcHMuTWFya2VyLFxuICAgICkgPT4gZ29vZ2xlLm1hcHMuTWFya2VyT3B0aW9ucyB8IG51bGwsXG4gICk6IEJ1aWxkZXIge1xuICAgIHRoaXMucFVwZGF0ZU1hcmtlck9wdGlvbnMgPSB1cGRhdGVNYXJrZXJPcHRpb25zIGFzIChcbiAgICAgIHNjZmVhdHVyZTogU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLkNsdXN0ZXJGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4sXG4gICAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICApID0+IGdvb2dsZS5tYXBzLk1hcmtlck9wdGlvbnMgfCBudWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhNYXJrZXJDbGljayhtYXJrZXJDbGljazogKG1hcmtlcjogZ29vZ2xlLm1hcHMuTWFya2VyLCBldmVudDogZ29vZ2xlLm1hcHMuTW91c2VFdmVudCkgPT4gdm9pZCk6IEJ1aWxkZXIge1xuICAgIHRoaXMucE1hcmtlckNsaWNrID0gbWFya2VyQ2xpY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aEZlYXR1cmVDbGljayhmZWF0dXJlQ2xpY2s6IChldmVudDogZ29vZ2xlLm1hcHMuRGF0YS5Nb3VzZUV2ZW50KSA9PiB2b2lkKTogQnVpbGRlciB7XG4gICAgdGhpcy5wRmVhdHVyZUNsaWNrID0gZmVhdHVyZUNsaWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHdpdGhDbHVzdGVyQ2xpY2soXG4gICAgY2x1c3RlckNsaWNrOiAoXG4gICAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICAgIGV2ZW50OiBnb29nbGUubWFwcy5Nb3VzZUV2ZW50LFxuICAgICAgbWFwSW5zdGFuY2U6IGdvb2dsZS5tYXBzLk1hcCxcbiAgICAgIGNsdXN0ZXJlcjogU3VwZXJDbHVzdGVyQWRhcHRlcixcbiAgICApID0+IHZvaWQsXG4gICk6IEJ1aWxkZXIge1xuICAgIHRoaXMucENsdXN0ZXJDbGljayA9IGNsdXN0ZXJDbGljaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoRmVhdHVyZVN0eWxlKGZlYXR1cmVTdHlsZTogZ29vZ2xlLm1hcHMuRGF0YS5TdHlsaW5nRnVuY3Rpb24pOiBCdWlsZGVyIHtcbiAgICB0aGlzLnBGZWF0dXJlU3R5bGUgPSBmZWF0dXJlU3R5bGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aFNlcnZlclNpZGVGZWF0dXJlVG9TdXBlckNsdXN0ZXIoXG4gICAgdHJhbnNmb3JtOiAoXG4gICAgICBmZWF0dXJlOiBhbnksXG4gICAgKSA9PiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPiB8IFN1cGVyY2x1c3Rlci5Qb2ludEZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgKTogQnVpbGRlciB7XG4gICAgdGhpcy5wU2VydmVyU2lkZUZlYXR1cmVUb1N1cGVyQ2x1c3RlciA9IHRyYW5zZm9ybTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoT3ZlcmxhcE1hcmtlclNwaWRlcmZpZXIob21zOiBPdmVybGFwcGluZ01hcmtlclNwaWRlcmZpZXIpOiBCdWlsZGVyIHtcbiAgICB0aGlzLnBPdmVybGFwTWFya2VyU3BpZGVyZmllciA9IG9tcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoR2V0Q2x1c3RlcnNTZXJ2ZXJTaWRlKFxuICAgIGdldENsdXN0ZXJzOiAoYmJveDogR2VvSlNPTi5CQm94LCB6b29tOiBudW1iZXIsIGNsdXN0ZXJUb1pvb20/OiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+LFxuICApOiBCdWlsZGVyIHtcbiAgICB0aGlzLnBVc2VTZXJ2ZXJTaWRlQ2x1c3RlcmVyID0gdHJ1ZTtcbiAgICB0aGlzLnBHZXRDbHVzdGVyc1NlcnZlclNpZGUgPSBnZXRDbHVzdGVycztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyBidWlsZCgpOiBTdXBlckNsdXN0ZXJBZGFwdGVyIHtcbiAgICBjb25zdCBjbHVzdGVyZXIgPSBuZXcgU3VwZXJDbHVzdGVyQWRhcHRlcih0aGlzKTtcbiAgICBDbHVzdGVyZXJIZWxwZXIuc2V0Q2x1c3RlcmVyKHRoaXMucE1hcCwgY2x1c3RlcmVyKTtcbiAgICByZXR1cm4gY2x1c3RlcmVyO1xuICB9XG5cbiAgZ2V0IG1hcCgpOiBnb29nbGUubWFwcy5NYXAge1xuICAgIHJldHVybiB0aGlzLnBNYXA7XG4gIH1cblxuICBnZXQgcmFkaXVzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucFJhZGl1cyA/PyBSQURJVVNfREVGQVVMVDtcbiAgfVxuXG4gIGdldCBtYXhab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucE1heFpvb20gPz8gTUFYX1pPT01fREVGQVVMVDtcbiAgfVxuXG4gIGdldCBtaW5ab29tKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucE1pblpvb20gPz8gTUlOX1pPT01fREVGQVVMVDtcbiAgfVxuXG4gIGdldCBzdHlsZXMoKTogSVN0eWxlW10ge1xuICAgIHJldHVybiB0aGlzLnBTdHlsZXMgPz8gW107XG4gIH1cblxuICBnZXQgaW1hZ2VQYXRoKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucEltYWdlUGF0aCA/PyBNQVJLRVJfQ0xVU1RFUl9JTUFHRV9QQVRIX0RFRkFVTFQ7XG4gIH1cblxuICBnZXQgaW1hZ2VFeHRlbnNpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wSW1hZ2VFeHRlbnNpb24gPz8gTUFSS0VSX0NMVVNURVJfSU1BR0VfRVhURU5TSU9OO1xuICB9XG5cbiAgZ2V0IHpvb21PbkNsaWNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBab29tT25DbGljayA/PyB0cnVlO1xuICB9XG5cbiAgZ2V0IGN1c3RvbU1hcmtlckljb24oKTogKFxuICAgIHBvaW50RmVhdHVyZTogU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+LFxuICApID0+IHN0cmluZyB8IGdvb2dsZS5tYXBzLlN5bWJvbCB7XG4gICAgcmV0dXJuIHRoaXMucEN1c3RvbU1hcmtlckljb247XG4gIH1cblxuICBnZXQgY3VzdG9tQ2x1c3Rlckljb24oKTogKFxuICAgIGNsdXN0ZXJGZWF0dXJlOiBTdXBlcmNsdXN0ZXIuQ2x1c3RlckZlYXR1cmU8U3VwZXJjbHVzdGVyLkFueVByb3BzPixcbiAgICBjbHVzdGVySW5kZXg6IG51bWJlcixcbiAgKSA9PiBnb29nbGUubWFwcy5JY29uIHwgZ29vZ2xlLm1hcHMuU3ltYm9sIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMucEN1c3RvbUNsdXN0ZXJJY29uO1xuICB9XG5cbiAgZ2V0IHVwZGF0ZU1hcmtlck9wdGlvbnMoKTogKFxuICAgIHNjZmVhdHVyZTogU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLkNsdXN0ZXJGZWF0dXJlPFN1cGVyY2x1c3Rlci5BbnlQcm9wcz4sXG4gICAgbWFya2VyOiBnb29nbGUubWFwcy5NYXJrZXIsXG4gICkgPT4gZ29vZ2xlLm1hcHMuTWFya2VyT3B0aW9ucyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnBVcGRhdGVNYXJrZXJPcHRpb25zO1xuICB9XG5cbiAgZ2V0IG1hcmtlckNsaWNrKCk6IChtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlciwgZXZlbnQ6IGdvb2dsZS5tYXBzLk1vdXNlRXZlbnQpID0+IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnBNYXJrZXJDbGljaztcbiAgfVxuXG4gIGdldCBmZWF0dXJlQ2xpY2soKTogKGV2ZW50OiBnb29nbGUubWFwcy5EYXRhLk1vdXNlRXZlbnQpID0+IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnBGZWF0dXJlQ2xpY2s7XG4gIH1cblxuICBnZXQgY2x1c3RlckNsaWNrKCk6XG4gICAgfCAoKFxuICAgICAgICBtYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcixcbiAgICAgICAgZXZlbnQ6IGdvb2dsZS5tYXBzLk1vdXNlRXZlbnQsXG4gICAgICAgIG1hcEluc3RhbmNlOiBnb29nbGUubWFwcy5NYXAsXG4gICAgICAgIGNsdXN0ZXJlcjogU3VwZXJDbHVzdGVyQWRhcHRlcixcbiAgICAgICkgPT4gdm9pZClcbiAgICB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucENsdXN0ZXJDbGljaztcbiAgfVxuXG4gIGdldCBmZWF0dXJlU3R5bGUoKTogZ29vZ2xlLm1hcHMuRGF0YS5TdHlsaW5nRnVuY3Rpb24ge1xuICAgIHJldHVybiB0aGlzLnBGZWF0dXJlU3R5bGU7XG4gIH1cblxuICBnZXQgc2VydmVyU2lkZUZlYXR1cmVUb1N1cGVyQ2x1c3RlcigpOiAoXG4gICAgZmVhdHVyZTogYW55LFxuICApID0+IFN1cGVyY2x1c3Rlci5DbHVzdGVyRmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHwgU3VwZXJjbHVzdGVyLlBvaW50RmVhdHVyZTxTdXBlcmNsdXN0ZXIuQW55UHJvcHM+IHtcbiAgICByZXR1cm4gdGhpcy5wU2VydmVyU2lkZUZlYXR1cmVUb1N1cGVyQ2x1c3RlcjtcbiAgfVxuXG4gIGdldCBvdmVybGFwTWFya2VyU3BpZGVyZmllcigpOiBPdmVybGFwcGluZ01hcmtlclNwaWRlcmZpZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5wT3ZlcmxhcE1hcmtlclNwaWRlcmZpZXI7XG4gIH1cblxuICBnZXQgdXNlU2VydmVyU2lkZUNsdXN0ZXJlcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wVXNlU2VydmVyU2lkZUNsdXN0ZXJlcjtcbiAgfVxuXG4gIGdldCBnZXRDbHVzdGVyc1NlcnZlclNpZGUoKTogKGJib3g6IEdlb0pTT04uQkJveCwgem9vbTogbnVtYmVyKSA9PiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuIHRoaXMucEdldENsdXN0ZXJzU2VydmVyU2lkZTtcbiAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBsZWZ0LCByaWdodCwgZGVwdGgpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0IDw9IG5vZGVTaXplKSByZXR1cm47XG5cbiAgICBjb25zdCBtID0gKGxlZnQgKyByaWdodCkgPj4gMTtcblxuICAgIHNlbGVjdChpZHMsIGNvb3JkcywgbSwgbGVmdCwgcmlnaHQsIGRlcHRoICUgMik7XG5cbiAgICBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBsZWZ0LCBtIC0gMSwgZGVwdGggKyAxKTtcbiAgICBzb3J0S0QoaWRzLCBjb29yZHMsIG5vZGVTaXplLCBtICsgMSwgcmlnaHQsIGRlcHRoICsgMSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdChpZHMsIGNvb3JkcywgaywgbGVmdCwgcmlnaHQsIGluYykge1xuXG4gICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkge1xuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgICAgICAgIGNvbnN0IG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICAgICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7XG4gICAgICAgICAgICBjb25zdCBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgICAgICAgIGNvbnN0IHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICAgICAgICBjb25zdCBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgICAgICAgc2VsZWN0KGlkcywgY29vcmRzLCBrLCBuZXdMZWZ0LCBuZXdSaWdodCwgaW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHQgPSBjb29yZHNbMiAqIGsgKyBpbmNdO1xuICAgICAgICBsZXQgaSA9IGxlZnQ7XG4gICAgICAgIGxldCBqID0gcmlnaHQ7XG5cbiAgICAgICAgc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGxlZnQsIGspO1xuICAgICAgICBpZiAoY29vcmRzWzIgKiByaWdodCArIGluY10gPiB0KSBzd2FwSXRlbShpZHMsIGNvb3JkcywgbGVmdCwgcmlnaHQpO1xuXG4gICAgICAgIHdoaWxlIChpIDwgaikge1xuICAgICAgICAgICAgc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGksIGopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgd2hpbGUgKGNvb3Jkc1syICogaSArIGluY10gPCB0KSBpKys7XG4gICAgICAgICAgICB3aGlsZSAoY29vcmRzWzIgKiBqICsgaW5jXSA+IHQpIGotLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb29yZHNbMiAqIGxlZnQgKyBpbmNdID09PSB0KSBzd2FwSXRlbShpZHMsIGNvb3JkcywgbGVmdCwgaik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgc3dhcEl0ZW0oaWRzLCBjb29yZHMsIGosIHJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqIDw9IGspIGxlZnQgPSBqICsgMTtcbiAgICAgICAgaWYgKGsgPD0gaikgcmlnaHQgPSBqIC0gMTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN3YXBJdGVtKGlkcywgY29vcmRzLCBpLCBqKSB7XG4gICAgc3dhcChpZHMsIGksIGopO1xuICAgIHN3YXAoY29vcmRzLCAyICogaSwgMiAqIGopO1xuICAgIHN3YXAoY29vcmRzLCAyICogaSArIDEsIDIgKiBqICsgMSk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyLCBpLCBqKSB7XG4gICAgY29uc3QgdG1wID0gYXJyW2ldO1xuICAgIGFycltpXSA9IGFycltqXTtcbiAgICBhcnJbal0gPSB0bXA7XG59XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdpdGhpbihpZHMsIGNvb3JkcywgcXgsIHF5LCByLCBub2RlU2l6ZSkge1xuICAgIGNvbnN0IHN0YWNrID0gWzAsIGlkcy5sZW5ndGggLSAxLCAwXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCByMiA9IHIgKiByO1xuXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBheGlzID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBzdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAocmlnaHQgLSBsZWZ0IDw9IG5vZGVTaXplKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbGVmdDsgaSA8PSByaWdodDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNxRGlzdChjb29yZHNbMiAqIGldLCBjb29yZHNbMiAqIGkgKyAxXSwgcXgsIHF5KSA8PSByMikgcmVzdWx0LnB1c2goaWRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcblxuICAgICAgICBjb25zdCB4ID0gY29vcmRzWzIgKiBtXTtcbiAgICAgICAgY29uc3QgeSA9IGNvb3Jkc1syICogbSArIDFdO1xuXG4gICAgICAgIGlmIChzcURpc3QoeCwgeSwgcXgsIHF5KSA8PSByMikgcmVzdWx0LnB1c2goaWRzW21dKTtcblxuICAgICAgICBjb25zdCBuZXh0QXhpcyA9IChheGlzICsgMSkgJSAyO1xuXG4gICAgICAgIGlmIChheGlzID09PSAwID8gcXggLSByIDw9IHggOiBxeSAtIHIgPD0geSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChsZWZ0KTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobSAtIDEpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF4aXMgPT09IDAgPyBxeCArIHIgPj0geCA6IHF5ICsgciA+PSB5KSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG0gKyAxKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gocmlnaHQpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzcURpc3QoYXgsIGF5LCBieCwgYnkpIHtcbiAgICBjb25zdCBkeCA9IGF4IC0gYng7XG4gICAgY29uc3QgZHkgPSBheSAtIGJ5O1xuICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbn1cbiIsIlxuaW1wb3J0IHNvcnQgZnJvbSAnLi9zb3J0JztcbmltcG9ydCByYW5nZSBmcm9tICcuL3JhbmdlJztcbmltcG9ydCB3aXRoaW4gZnJvbSAnLi93aXRoaW4nO1xuXG5jb25zdCBkZWZhdWx0R2V0WCA9IHAgPT4gcFswXTtcbmNvbnN0IGRlZmF1bHRHZXRZID0gcCA9PiBwWzFdO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLREJ1c2gge1xuICAgIGNvbnN0cnVjdG9yKHBvaW50cywgZ2V0WCA9IGRlZmF1bHRHZXRYLCBnZXRZID0gZGVmYXVsdEdldFksIG5vZGVTaXplID0gNjQsIEFycmF5VHlwZSA9IEZsb2F0NjRBcnJheSkge1xuICAgICAgICB0aGlzLm5vZGVTaXplID0gbm9kZVNpemU7XG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IEluZGV4QXJyYXlUeXBlID0gcG9pbnRzLmxlbmd0aCA8IDY1NTM2ID8gVWludDE2QXJyYXkgOiBVaW50MzJBcnJheTtcblxuICAgICAgICBjb25zdCBpZHMgPSB0aGlzLmlkcyA9IG5ldyBJbmRleEFycmF5VHlwZShwb2ludHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5jb29yZHMgPSBuZXcgQXJyYXlUeXBlKHBvaW50cy5sZW5ndGggKiAyKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWRzW2ldID0gaTtcbiAgICAgICAgICAgIGNvb3Jkc1syICogaV0gPSBnZXRYKHBvaW50c1tpXSk7XG4gICAgICAgICAgICBjb29yZHNbMiAqIGkgKyAxXSA9IGdldFkocG9pbnRzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvcnQoaWRzLCBjb29yZHMsIG5vZGVTaXplLCAwLCBpZHMubGVuZ3RoIC0gMSwgMCk7XG4gICAgfVxuXG4gICAgcmFuZ2UobWluWCwgbWluWSwgbWF4WCwgbWF4WSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UodGhpcy5pZHMsIHRoaXMuY29vcmRzLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB0aGlzLm5vZGVTaXplKTtcbiAgICB9XG5cbiAgICB3aXRoaW4oeCwgeSwgcikge1xuICAgICAgICByZXR1cm4gd2l0aGluKHRoaXMuaWRzLCB0aGlzLmNvb3JkcywgeCwgeSwgciwgdGhpcy5ub2RlU2l6ZSk7XG4gICAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByYW5nZShpZHMsIGNvb3JkcywgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgbm9kZVNpemUpIHtcbiAgICBjb25zdCBzdGFjayA9IFswLCBpZHMubGVuZ3RoIC0gMSwgMF07XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IHgsIHk7XG5cbiAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgY29uc3QgbGVmdCA9IHN0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmIChyaWdodCAtIGxlZnQgPD0gbm9kZVNpemUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsZWZ0OyBpIDw9IHJpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgICAgICB4ID0gY29vcmRzWzIgKiBpXTtcbiAgICAgICAgICAgICAgICB5ID0gY29vcmRzWzIgKiBpICsgMV07XG4gICAgICAgICAgICAgICAgaWYgKHggPj0gbWluWCAmJiB4IDw9IG1heFggJiYgeSA+PSBtaW5ZICYmIHkgPD0gbWF4WSkgcmVzdWx0LnB1c2goaWRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcblxuICAgICAgICB4ID0gY29vcmRzWzIgKiBtXTtcbiAgICAgICAgeSA9IGNvb3Jkc1syICogbSArIDFdO1xuXG4gICAgICAgIGlmICh4ID49IG1pblggJiYgeCA8PSBtYXhYICYmIHkgPj0gbWluWSAmJiB5IDw9IG1heFkpIHJlc3VsdC5wdXNoKGlkc1ttXSk7XG5cbiAgICAgICAgY29uc3QgbmV4dEF4aXMgPSAoYXhpcyArIDEpICUgMjtcblxuICAgICAgICBpZiAoYXhpcyA9PT0gMCA/IG1pblggPD0geCA6IG1pblkgPD0geSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChsZWZ0KTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobSAtIDEpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChuZXh0QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF4aXMgPT09IDAgPyBtYXhYID49IHggOiBtYXhZID49IHkpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2gobSArIDEpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChyaWdodCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKG5leHRBeGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCJcbmltcG9ydCBLREJ1c2ggZnJvbSAna2RidXNoJztcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbWluWm9vbTogMCwgICAvLyBtaW4gem9vbSB0byBnZW5lcmF0ZSBjbHVzdGVycyBvblxuICAgIG1heFpvb206IDE2LCAgLy8gbWF4IHpvb20gbGV2ZWwgdG8gY2x1c3RlciB0aGUgcG9pbnRzIG9uXG4gICAgbWluUG9pbnRzOiAyLCAvLyBtaW5pbXVtIHBvaW50cyB0byBmb3JtIGEgY2x1c3RlclxuICAgIHJhZGl1czogNDAsICAgLy8gY2x1c3RlciByYWRpdXMgaW4gcGl4ZWxzXG4gICAgZXh0ZW50OiA1MTIsICAvLyB0aWxlIGV4dGVudCAocmFkaXVzIGlzIGNhbGN1bGF0ZWQgcmVsYXRpdmUgdG8gaXQpXG4gICAgbm9kZVNpemU6IDY0LCAvLyBzaXplIG9mIHRoZSBLRC10cmVlIGxlYWYgbm9kZSwgYWZmZWN0cyBwZXJmb3JtYW5jZVxuICAgIGxvZzogZmFsc2UsICAgLy8gd2hldGhlciB0byBsb2cgdGltaW5nIGluZm9cblxuICAgIC8vIHdoZXRoZXIgdG8gZ2VuZXJhdGUgbnVtZXJpYyBpZHMgZm9yIGlucHV0IGZlYXR1cmVzIChpbiB2ZWN0b3IgdGlsZXMpXG4gICAgZ2VuZXJhdGVJZDogZmFsc2UsXG5cbiAgICAvLyBhIHJlZHVjZSBmdW5jdGlvbiBmb3IgY2FsY3VsYXRpbmcgY3VzdG9tIGNsdXN0ZXIgcHJvcGVydGllc1xuICAgIHJlZHVjZTogbnVsbCwgLy8gKGFjY3VtdWxhdGVkLCBwcm9wcykgPT4geyBhY2N1bXVsYXRlZC5zdW0gKz0gcHJvcHMuc3VtOyB9XG5cbiAgICAvLyBwcm9wZXJ0aWVzIHRvIHVzZSBmb3IgaW5kaXZpZHVhbCBwb2ludHMgd2hlbiBydW5uaW5nIHRoZSByZWR1Y2VyXG4gICAgbWFwOiBwcm9wcyA9PiBwcm9wcyAvLyBwcm9wcyA9PiAoe3N1bTogcHJvcHMubXlfdmFsdWV9KVxufTtcblxuY29uc3QgZnJvdW5kID0gTWF0aC5mcm91bmQgfHwgKHRtcCA9PiAoKHgpID0+IHsgdG1wWzBdID0gK3g7IHJldHVybiB0bXBbMF07IH0pKShuZXcgRmxvYXQzMkFycmF5KDEpKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3VwZXJjbHVzdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChPYmplY3QuY3JlYXRlKGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJlZXMgPSBuZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20gKyAxKTtcbiAgICB9XG5cbiAgICBsb2FkKHBvaW50cykge1xuICAgICAgICBjb25zdCB7bG9nLCBtaW5ab29tLCBtYXhab29tLCBub2RlU2l6ZX0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGxvZykgY29uc29sZS50aW1lKCd0b3RhbCB0aW1lJyk7XG5cbiAgICAgICAgY29uc3QgdGltZXJJZCA9IGBwcmVwYXJlICR7ICBwb2ludHMubGVuZ3RoICB9IHBvaW50c2A7XG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZSh0aW1lcklkKTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvLyBnZW5lcmF0ZSBhIGNsdXN0ZXIgb2JqZWN0IGZvciBlYWNoIHBvaW50IGFuZCBpbmRleCBpbnB1dCBwb2ludHMgaW50byBhIEtELXRyZWVcbiAgICAgICAgbGV0IGNsdXN0ZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXBvaW50c1tpXS5nZW9tZXRyeSkgY29udGludWU7XG4gICAgICAgICAgICBjbHVzdGVycy5wdXNoKGNyZWF0ZVBvaW50Q2x1c3Rlcihwb2ludHNbaV0sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyZWVzW21heFpvb20gKyAxXSA9IG5ldyBLREJ1c2goY2x1c3RlcnMsIGdldFgsIGdldFksIG5vZGVTaXplLCBGbG9hdDMyQXJyYXkpO1xuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCh0aW1lcklkKTtcblxuICAgICAgICAvLyBjbHVzdGVyIHBvaW50cyBvbiBtYXggem9vbSwgdGhlbiBjbHVzdGVyIHRoZSByZXN1bHRzIG9uIHByZXZpb3VzIHpvb20sIGV0Yy47XG4gICAgICAgIC8vIHJlc3VsdHMgaW4gYSBjbHVzdGVyIGhpZXJhcmNoeSBhY3Jvc3Mgem9vbSBsZXZlbHNcbiAgICAgICAgZm9yIChsZXQgeiA9IG1heFpvb207IHogPj0gbWluWm9vbTsgei0tKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSArRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHNldCBvZiBjbHVzdGVycyBmb3IgdGhlIHpvb20gYW5kIGluZGV4IHRoZW0gd2l0aCBhIEtELXRyZWVcbiAgICAgICAgICAgIGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcihjbHVzdGVycywgeik7XG4gICAgICAgICAgICB0aGlzLnRyZWVzW3pdID0gbmV3IEtEQnVzaChjbHVzdGVycywgZ2V0WCwgZ2V0WSwgbm9kZVNpemUsIEZsb2F0MzJBcnJheSk7XG5cbiAgICAgICAgICAgIGlmIChsb2cpIGNvbnNvbGUubG9nKCd6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXMnLCB6LCBjbHVzdGVycy5sZW5ndGgsICtEYXRlLm5vdygpIC0gbm93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb2cpIGNvbnNvbGUudGltZUVuZCgndG90YWwgdGltZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldENsdXN0ZXJzKGJib3gsIHpvb20pIHtcbiAgICAgICAgbGV0IG1pbkxuZyA9ICgoYmJveFswXSArIDE4MCkgJSAzNjAgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgICAgICBjb25zdCBtaW5MYXQgPSBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBiYm94WzFdKSk7XG4gICAgICAgIGxldCBtYXhMbmcgPSBiYm94WzJdID09PSAxODAgPyAxODAgOiAoKGJib3hbMl0gKyAxODApICUgMzYwICsgMzYwKSAlIDM2MCAtIDE4MDtcbiAgICAgICAgY29uc3QgbWF4TGF0ID0gTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgYmJveFszXSkpO1xuXG4gICAgICAgIGlmIChiYm94WzJdIC0gYmJveFswXSA+PSAzNjApIHtcbiAgICAgICAgICAgIG1pbkxuZyA9IC0xODA7XG4gICAgICAgICAgICBtYXhMbmcgPSAxODA7XG4gICAgICAgIH0gZWxzZSBpZiAobWluTG5nID4gbWF4TG5nKSB7XG4gICAgICAgICAgICBjb25zdCBlYXN0ZXJuSGVtID0gdGhpcy5nZXRDbHVzdGVycyhbbWluTG5nLCBtaW5MYXQsIDE4MCwgbWF4TGF0XSwgem9vbSk7XG4gICAgICAgICAgICBjb25zdCB3ZXN0ZXJuSGVtID0gdGhpcy5nZXRDbHVzdGVycyhbLTE4MCwgbWluTGF0LCBtYXhMbmcsIG1heExhdF0sIHpvb20pO1xuICAgICAgICAgICAgcmV0dXJuIGVhc3Rlcm5IZW0uY29uY2F0KHdlc3Rlcm5IZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHpvb20pXTtcbiAgICAgICAgY29uc3QgaWRzID0gdHJlZS5yYW5nZShsbmdYKG1pbkxuZyksIGxhdFkobWF4TGF0KSwgbG5nWChtYXhMbmcpLCBsYXRZKG1pbkxhdCkpO1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRyZWUucG9pbnRzW2lkXTtcbiAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2goYy5udW1Qb2ludHMgPyBnZXRDbHVzdGVySlNPTihjKSA6IHRoaXMucG9pbnRzW2MuaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2x1c3RlcnM7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRyZW4oY2x1c3RlcklkKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbklkID0gdGhpcy5fZ2V0T3JpZ2luSWQoY2x1c3RlcklkKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luWm9vbSA9IHRoaXMuX2dldE9yaWdpblpvb20oY2x1c3RlcklkKTtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAnTm8gY2x1c3RlciB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuJztcblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudHJlZXNbb3JpZ2luWm9vbV07XG4gICAgICAgIGlmICghaW5kZXgpIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgY29uc3Qgb3JpZ2luID0gaW5kZXgucG9pbnRzW29yaWdpbklkXTtcbiAgICAgICAgaWYgKCFvcmlnaW4pIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMub3B0aW9ucy5yYWRpdXMgLyAodGhpcy5vcHRpb25zLmV4dGVudCAqIE1hdGgucG93KDIsIG9yaWdpblpvb20gLSAxKSk7XG4gICAgICAgIGNvbnN0IGlkcyA9IGluZGV4LndpdGhpbihvcmlnaW4ueCwgb3JpZ2luLnksIHIpO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgICAgICAgICAgY29uc3QgYyA9IGluZGV4LnBvaW50c1tpZF07XG4gICAgICAgICAgICBpZiAoYy5wYXJlbnRJZCA9PT0gY2x1c3RlcklkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjLm51bVBvaW50cyA/IGdldENsdXN0ZXJKU09OKGMpIDogdGhpcy5wb2ludHNbYy5pbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcblxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgZ2V0TGVhdmVzKGNsdXN0ZXJJZCwgbGltaXQsIG9mZnNldCkge1xuICAgICAgICBsaW1pdCA9IGxpbWl0IHx8IDEwO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgICBjb25zdCBsZWF2ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fYXBwZW5kTGVhdmVzKGxlYXZlcywgY2x1c3RlcklkLCBsaW1pdCwgb2Zmc2V0LCAwKTtcblxuICAgICAgICByZXR1cm4gbGVhdmVzO1xuICAgIH1cblxuICAgIGdldFRpbGUoeiwgeCwgeSkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20oeildO1xuICAgICAgICBjb25zdCB6MiA9IE1hdGgucG93KDIsIHopO1xuICAgICAgICBjb25zdCB7ZXh0ZW50LCByYWRpdXN9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwID0gcmFkaXVzIC8gZXh0ZW50O1xuICAgICAgICBjb25zdCB0b3AgPSAoeSAtIHApIC8gejI7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9ICh5ICsgMSArIHApIC8gejI7XG5cbiAgICAgICAgY29uc3QgdGlsZSA9IHtcbiAgICAgICAgICAgIGZlYXR1cmVzOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgICAgICAgIHRyZWUucmFuZ2UoKHggLSBwKSAvIHoyLCB0b3AsICh4ICsgMSArIHApIC8gejIsIGJvdHRvbSksXG4gICAgICAgICAgICB0cmVlLnBvaW50cywgeCwgeSwgejIsIHRpbGUpO1xuXG4gICAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICAgICAgICAgICAgdHJlZS5yYW5nZSgxIC0gcCAvIHoyLCB0b3AsIDEsIGJvdHRvbSksXG4gICAgICAgICAgICAgICAgdHJlZS5wb2ludHMsIHoyLCB5LCB6MiwgdGlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPT09IHoyIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHRyZWUucmFuZ2UoMCwgdG9wLCBwIC8gejIsIGJvdHRvbSksXG4gICAgICAgICAgICAgICAgdHJlZS5wb2ludHMsIC0xLCB5LCB6MiwgdGlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlsZS5mZWF0dXJlcy5sZW5ndGggPyB0aWxlIDogbnVsbDtcbiAgICB9XG5cbiAgICBnZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShjbHVzdGVySWQpIHtcbiAgICAgICAgbGV0IGV4cGFuc2lvblpvb20gPSB0aGlzLl9nZXRPcmlnaW5ab29tKGNsdXN0ZXJJZCkgLSAxO1xuICAgICAgICB3aGlsZSAoZXhwYW5zaW9uWm9vbSA8PSB0aGlzLm9wdGlvbnMubWF4Wm9vbSkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKGNsdXN0ZXJJZCk7XG4gICAgICAgICAgICBleHBhbnNpb25ab29tKys7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSBicmVhaztcbiAgICAgICAgICAgIGNsdXN0ZXJJZCA9IGNoaWxkcmVuWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwYW5zaW9uWm9vbTtcbiAgICB9XG5cbiAgICBfYXBwZW5kTGVhdmVzKHJlc3VsdCwgY2x1c3RlcklkLCBsaW1pdCwgb2Zmc2V0LCBza2lwcGVkKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5nZXRDaGlsZHJlbihjbHVzdGVySWQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0gY2hpbGQucHJvcGVydGllcztcblxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZCArIHByb3BzLnBvaW50X2NvdW50IDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgICAgIHNraXBwZWQgKz0gcHJvcHMucG9pbnRfY291bnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50ZXIgdGhlIGNsdXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZCA9IHRoaXMuX2FwcGVuZExlYXZlcyhyZXN1bHQsIHByb3BzLmNsdXN0ZXJfaWQsIGxpbWl0LCBvZmZzZXQsIHNraXBwZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBleGl0IHRoZSBjbHVzdGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChza2lwcGVkIDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBhIHNpbmdsZSBwb2ludFxuICAgICAgICAgICAgICAgIHNraXBwZWQrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgc2luZ2xlIHBvaW50XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IGxpbWl0KSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBza2lwcGVkO1xuICAgIH1cblxuICAgIF9hZGRUaWxlRmVhdHVyZXMoaWRzLCBwb2ludHMsIHgsIHksIHoyLCB0aWxlKSB7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBpZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCBpc0NsdXN0ZXIgPSBjLm51bVBvaW50cztcblxuICAgICAgICAgICAgbGV0IHRhZ3MsIHB4LCBweTtcbiAgICAgICAgICAgIGlmIChpc0NsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICB0YWdzID0gZ2V0Q2x1c3RlclByb3BlcnRpZXMoYyk7XG4gICAgICAgICAgICAgICAgcHggPSBjLng7XG4gICAgICAgICAgICAgICAgcHkgPSBjLnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnBvaW50c1tjLmluZGV4XTtcbiAgICAgICAgICAgICAgICB0YWdzID0gcC5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIHB4ID0gbG5nWChwLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdKTtcbiAgICAgICAgICAgICAgICBweSA9IGxhdFkocC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGYgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogMSxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogW1tcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50ICogKHB4ICogejIgLSB4KSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChweSAqIHoyIC0geSkpXG4gICAgICAgICAgICAgICAgXV0sXG4gICAgICAgICAgICAgICAgdGFnc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYXNzaWduIGlkXG4gICAgICAgICAgICBsZXQgaWQ7XG4gICAgICAgICAgICBpZiAoaXNDbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgaWQgPSBjLmlkO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZCkge1xuICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsbHkgZ2VuZXJhdGUgaWRcbiAgICAgICAgICAgICAgICBpZCA9IGMuaW5kZXg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9pbnRzW2MuaW5kZXhdLmlkKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCBpZCBpZiBhbHJlYWR5IGFzc2lnbmVkXG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLnBvaW50c1tjLmluZGV4XS5pZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIGYuaWQgPSBpZDtcblxuICAgICAgICAgICAgdGlsZS5mZWF0dXJlcy5wdXNoKGYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xpbWl0Wm9vbSh6KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSwgTWF0aC5taW4oTWF0aC5mbG9vcigreiksIHRoaXMub3B0aW9ucy5tYXhab29tICsgMSkpO1xuICAgIH1cblxuICAgIF9jbHVzdGVyKHBvaW50cywgem9vbSkge1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBjb25zdCB7cmFkaXVzLCBleHRlbnQsIHJlZHVjZSwgbWluUG9pbnRzfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgciA9IHJhZGl1cyAvIChleHRlbnQgKiBNYXRoLnBvdygyLCB6b29tKSk7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggcG9pbnRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAvLyBpZiB3ZSd2ZSBhbHJlYWR5IHZpc2l0ZWQgdGhlIHBvaW50IGF0IHRoaXMgem9vbSBsZXZlbCwgc2tpcCBpdFxuICAgICAgICAgICAgaWYgKHAuem9vbSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgIHAuem9vbSA9IHpvb207XG5cbiAgICAgICAgICAgIC8vIGZpbmQgYWxsIG5lYXJieSBwb2ludHNcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWVzW3pvb20gKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ySWRzID0gdHJlZS53aXRoaW4ocC54LCBwLnksIHIpO1xuXG4gICAgICAgICAgICBjb25zdCBudW1Qb2ludHNPcmlnaW4gPSBwLm51bVBvaW50cyB8fCAxO1xuICAgICAgICAgICAgbGV0IG51bVBvaW50cyA9IG51bVBvaW50c09yaWdpbjtcblxuICAgICAgICAgICAgLy8gY291bnQgdGhlIG51bWJlciBvZiBwb2ludHMgaW4gYSBwb3RlbnRpYWwgY2x1c3RlclxuICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvcklkIG9mIG5laWdoYm9ySWRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IHRyZWUucG9pbnRzW25laWdoYm9ySWRdO1xuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgbmVpZ2hib3JzIHRoYXQgYXJlIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgaWYgKGIuem9vbSA+IHpvb20pIG51bVBvaW50cyArPSBiLm51bVBvaW50cyB8fCAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSB3ZXJlIG5laWdoYm9ycyB0byBtZXJnZSwgYW5kIHRoZXJlIGFyZSBlbm91Z2ggcG9pbnRzIHRvIGZvcm0gYSBjbHVzdGVyXG4gICAgICAgICAgICBpZiAobnVtUG9pbnRzID4gbnVtUG9pbnRzT3JpZ2luICYmIG51bVBvaW50cyA+PSBtaW5Qb2ludHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgd3ggPSBwLnggKiBudW1Qb2ludHNPcmlnaW47XG4gICAgICAgICAgICAgICAgbGV0IHd5ID0gcC55ICogbnVtUG9pbnRzT3JpZ2luO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNsdXN0ZXJQcm9wZXJ0aWVzID0gcmVkdWNlICYmIG51bVBvaW50c09yaWdpbiA+IDEgPyB0aGlzLl9tYXAocCwgdHJ1ZSkgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gZW5jb2RlIGJvdGggem9vbSBhbmQgcG9pbnQgaW5kZXggb24gd2hpY2ggdGhlIGNsdXN0ZXIgb3JpZ2luYXRlZCAtLSBvZmZzZXQgYnkgdG90YWwgbGVuZ3RoIG9mIGZlYXR1cmVzXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAoaSA8PCA1KSArICh6b29tICsgMSkgKyB0aGlzLnBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5laWdoYm9ySWQgb2YgbmVpZ2hib3JJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRyZWUucG9pbnRzW25laWdoYm9ySWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiLnpvb20gPD0gem9vbSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGIuem9vbSA9IHpvb207IC8vIHNhdmUgdGhlIHpvb20gKHNvIGl0IGRvZXNuJ3QgZ2V0IHByb2Nlc3NlZCB0d2ljZSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1Qb2ludHMyID0gYi5udW1Qb2ludHMgfHwgMTtcbiAgICAgICAgICAgICAgICAgICAgd3ggKz0gYi54ICogbnVtUG9pbnRzMjsgLy8gYWNjdW11bGF0ZSBjb29yZGluYXRlcyBmb3IgY2FsY3VsYXRpbmcgd2VpZ2h0ZWQgY2VudGVyXG4gICAgICAgICAgICAgICAgICAgIHd5ICs9IGIueSAqIG51bVBvaW50czI7XG5cbiAgICAgICAgICAgICAgICAgICAgYi5wYXJlbnRJZCA9IGlkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWR1Y2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2x1c3RlclByb3BlcnRpZXMpIGNsdXN0ZXJQcm9wZXJ0aWVzID0gdGhpcy5fbWFwKHAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVkdWNlKGNsdXN0ZXJQcm9wZXJ0aWVzLCB0aGlzLl9tYXAoYikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcC5wYXJlbnRJZCA9IGlkO1xuICAgICAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2goY3JlYXRlQ2x1c3Rlcih3eCAvIG51bVBvaW50cywgd3kgLyBudW1Qb2ludHMsIGlkLCBudW1Qb2ludHMsIGNsdXN0ZXJQcm9wZXJ0aWVzKSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGxlZnQgcG9pbnRzIGFzIHVuY2x1c3RlcmVkXG4gICAgICAgICAgICAgICAgY2x1c3RlcnMucHVzaChwKTtcblxuICAgICAgICAgICAgICAgIGlmIChudW1Qb2ludHMgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmVpZ2hib3JJZCBvZiBuZWlnaGJvcklkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRyZWUucG9pbnRzW25laWdoYm9ySWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIuem9vbSA8PSB6b29tKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuem9vbSA9IHpvb207XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVycy5wdXNoKGIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJzO1xuICAgIH1cblxuICAgIC8vIGdldCBpbmRleCBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0aGUgY2x1c3RlciBvcmlnaW5hdGVkXG4gICAgX2dldE9yaWdpbklkKGNsdXN0ZXJJZCkge1xuICAgICAgICByZXR1cm4gKGNsdXN0ZXJJZCAtIHRoaXMucG9pbnRzLmxlbmd0aCkgPj4gNTtcbiAgICB9XG5cbiAgICAvLyBnZXQgem9vbSBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0aGUgY2x1c3RlciBvcmlnaW5hdGVkXG4gICAgX2dldE9yaWdpblpvb20oY2x1c3RlcklkKSB7XG4gICAgICAgIHJldHVybiAoY2x1c3RlcklkIC0gdGhpcy5wb2ludHMubGVuZ3RoKSAlIDMyO1xuICAgIH1cblxuICAgIF9tYXAocG9pbnQsIGNsb25lKSB7XG4gICAgICAgIGlmIChwb2ludC5udW1Qb2ludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZSA/IGV4dGVuZCh7fSwgcG9pbnQucHJvcGVydGllcykgOiBwb2ludC5wcm9wZXJ0aWVzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5wb2ludHNbcG9pbnQuaW5kZXhdLnByb3BlcnRpZXM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMub3B0aW9ucy5tYXAob3JpZ2luYWwpO1xuICAgICAgICByZXR1cm4gY2xvbmUgJiYgcmVzdWx0ID09PSBvcmlnaW5hbCA/IGV4dGVuZCh7fSwgcmVzdWx0KSA6IHJlc3VsdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNsdXN0ZXIoeCwgeSwgaWQsIG51bVBvaW50cywgcHJvcGVydGllcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGZyb3VuZCh4KSwgLy8gd2VpZ2h0ZWQgY2x1c3RlciBjZW50ZXI7IHJvdW5kIGZvciBjb25zaXN0ZW5jeSB3aXRoIEZsb2F0MzJBcnJheSBpbmRleFxuICAgICAgICB5OiBmcm91bmQoeSksXG4gICAgICAgIHpvb206IEluZmluaXR5LCAvLyB0aGUgbGFzdCB6b29tIHRoZSBjbHVzdGVyIHdhcyBwcm9jZXNzZWQgYXRcbiAgICAgICAgaWQsIC8vIGVuY29kZXMgaW5kZXggb2YgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBjbHVzdGVyIGFuZCBpdHMgem9vbSBsZXZlbFxuICAgICAgICBwYXJlbnRJZDogLTEsIC8vIHBhcmVudCBjbHVzdGVyIGlkXG4gICAgICAgIG51bVBvaW50cyxcbiAgICAgICAgcHJvcGVydGllc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvaW50Q2x1c3RlcihwLCBpZCkge1xuICAgIGNvbnN0IFt4LCB5XSA9IHAuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZnJvdW5kKGxuZ1goeCkpLCAvLyBwcm9qZWN0ZWQgcG9pbnQgY29vcmRpbmF0ZXNcbiAgICAgICAgeTogZnJvdW5kKGxhdFkoeSkpLFxuICAgICAgICB6b29tOiBJbmZpbml0eSwgLy8gdGhlIGxhc3Qgem9vbSB0aGUgcG9pbnQgd2FzIHByb2Nlc3NlZCBhdFxuICAgICAgICBpbmRleDogaWQsIC8vIGluZGV4IG9mIHRoZSBzb3VyY2UgZmVhdHVyZSBpbiB0aGUgb3JpZ2luYWwgaW5wdXQgYXJyYXksXG4gICAgICAgIHBhcmVudElkOiAtMSAvLyBwYXJlbnQgY2x1c3RlciBpZFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldENsdXN0ZXJKU09OKGNsdXN0ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgIGlkOiBjbHVzdGVyLmlkLFxuICAgICAgICBwcm9wZXJ0aWVzOiBnZXRDbHVzdGVyUHJvcGVydGllcyhjbHVzdGVyKSxcbiAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICBjb29yZGluYXRlczogW3hMbmcoY2x1c3Rlci54KSwgeUxhdChjbHVzdGVyLnkpXVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2x1c3RlclByb3BlcnRpZXMoY2x1c3Rlcikge1xuICAgIGNvbnN0IGNvdW50ID0gY2x1c3Rlci5udW1Qb2ludHM7XG4gICAgY29uc3QgYWJicmV2ID1cbiAgICAgICAgY291bnQgPj0gMTAwMDAgPyBgJHtNYXRoLnJvdW5kKGNvdW50IC8gMTAwMCkgIH1rYCA6XG4gICAgICAgIGNvdW50ID49IDEwMDAgPyBgJHtNYXRoLnJvdW5kKGNvdW50IC8gMTAwKSAvIDEwICB9a2AgOiBjb3VudDtcbiAgICByZXR1cm4gZXh0ZW5kKGV4dGVuZCh7fSwgY2x1c3Rlci5wcm9wZXJ0aWVzKSwge1xuICAgICAgICBjbHVzdGVyOiB0cnVlLFxuICAgICAgICBjbHVzdGVyX2lkOiBjbHVzdGVyLmlkLFxuICAgICAgICBwb2ludF9jb3VudDogY291bnQsXG4gICAgICAgIHBvaW50X2NvdW50X2FiYnJldmlhdGVkOiBhYmJyZXZcbiAgICB9KTtcbn1cblxuLy8gbG9uZ2l0dWRlL2xhdGl0dWRlIHRvIHNwaGVyaWNhbCBtZXJjYXRvciBpbiBbMC4uMV0gcmFuZ2VcbmZ1bmN0aW9uIGxuZ1gobG5nKSB7XG4gICAgcmV0dXJuIGxuZyAvIDM2MCArIDAuNTtcbn1cbmZ1bmN0aW9uIGxhdFkobGF0KSB7XG4gICAgY29uc3Qgc2luID0gTWF0aC5zaW4obGF0ICogTWF0aC5QSSAvIDE4MCk7XG4gICAgY29uc3QgeSA9ICgwLjUgLSAwLjI1ICogTWF0aC5sb2coKDEgKyBzaW4pIC8gKDEgLSBzaW4pKSAvIE1hdGguUEkpO1xuICAgIHJldHVybiB5IDwgMCA/IDAgOiB5ID4gMSA/IDEgOiB5O1xufVxuXG4vLyBzcGhlcmljYWwgbWVyY2F0b3IgdG8gbG9uZ2l0dWRlL2xhdGl0dWRlXG5mdW5jdGlvbiB4TG5nKHgpIHtcbiAgICByZXR1cm4gKHggLSAwLjUpICogMzYwO1xufVxuZnVuY3Rpb24geUxhdCh5KSB7XG4gICAgY29uc3QgeTIgPSAoMTgwIC0geSAqIDM2MCkgKiBNYXRoLlBJIC8gMTgwO1xuICAgIHJldHVybiAzNjAgKiBNYXRoLmF0YW4oTWF0aC5leHAoeTIpKSAvIE1hdGguUEkgLSA5MDtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYykge1xuICAgIGZvciAoY29uc3QgaWQgaW4gc3JjKSBkZXN0W2lkXSA9IHNyY1tpZF07XG4gICAgcmV0dXJuIGRlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldFgocCkge1xuICAgIHJldHVybiBwLng7XG59XG5mdW5jdGlvbiBnZXRZKHApIHtcbiAgICByZXR1cm4gcC55O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==